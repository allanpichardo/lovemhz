{"version":3,"sources":["images/logo.svg","components/TransportButton.jsx.js","components/Stepper.jsx","components/Transport.jsx","utility/Calculations.js","components/EuclidRing.jsx","components/EuclidSequencer.jsx","components/Tab.jsx","components/Oscillator.jsx","components/LowpassFilter.jsx","components/HighpassFilter.jsx.js","components/ADSR.jsx","components/ControlPanel.jsx","components/Synth.jsx","registerServiceWorker.js","index.js"],"names":["module","exports","TransportButton","props","state","isStarted","handlePlayClicked","bind","handleStopClicked","toggleButtonState","id","href","className","onClick","this","newToggleState","newState","setState","onTransportToggle","onStop","$","toggleClass","Component","Stepper","getInitialState","leftClicked","rightClicked","hasItems","canStepLeft","canStepRight","value","default","itemIndex","items","indexOf","nextProps","newIndex","e","preventDefault","idx","val","input","onChange","parseInt","leftClasses","rightClasses","xmlns","viewBox","d","ref","readOnly","onMouseDown","onDown","onMouseUp","onUp","length","max","min","Transport","handleTransportToggle","sequenceTime","bpmToMs","bpm","intervalId","Timer","handleTick","isRunning","handleRunningChange","step","steps","handleStop","incrementStep","newTempo","handleTempoChange","onRunningChanged","onTick","ms","Calculations","note","C0","noteToFrequency","hsAboveC0","Math","pow","A","frequency","octave","i","EuclidRing","getRing","channel","onStepClicked","target","ring","theClass","childrenWithProps","React","Children","map","children","child","cloneElement","highlightSelectedSteps","onsets","forEach","onset","document","getElementById","classList","add","remove","Sequencer","initNoteMatrix","handleStepClicked","handleNoteChange","handleOnsetChange","handleOffsetChange","rotate","onsetSteppers","defaultState","notes","tonesForTrack","offsets","savedState","sessionStorage","getItem","JSON","parse","stateJson","stringify","setItem","j","data","split","currentSequence","slice","onNewSequence","track","tones","sequence","oldNote","euclid","Euclid","getPattern","currentNotes","offset","array","n","L","concat","noteValues","selectedOnsets0","filter","Boolean","selectedOnsets1","selectedOnsets2","selectedOnsets3","initialNote0","initialNote1","initialNote2","initialNote3","initialOffset0","initialOffset1","initialOffset2","initialOffset3","version","xmlnsXlink","x","y","width","height","xmlSpace","stepper","Tab","handleClick","querySelectorAll","elem","div","parentElement","onTabSelected","classes","tabClass","title","Oscillator","knobId","waveform","defaultWav","mix","defaultMix","defaultOctave","saveState","handleWaveChanged","handleMixChange","knob","v","trigger","type","data-width","data-height","data-fgColor","data-bgColor","data-displayInput","data-max","data-angleOffset","handleOctaveChanged","onWaveformChanged","shouldSave","onMixChanged","onOctaveChanged","LowpassFilter","peakKnobId","freqKnobId","peak","handleFreqChanged","handlePeakChanged","data-min","onFreqChanged","onPeakChanged","HighpassFilter","ADSR","attack","decay","sustain","release","handleAttackChanged","handleDecayChanged","handleReleaseChanged","handleSustainChanged","onAttackChanged","onDecayChanged","onSustainChanged","onReleaseChanged","ControlPanel","onWaveformChanged1","onMixChanged1","onOctaveChanged1","onWaveformChanged2","onMixChanged2","onOctaveChanged2","freq","onFreqChangedL","onPeakChangedL","onFreqChangedH","onPeakChangedH","Synth","scheduleAhead","osc1","osc2","lpf","detune","hpf","adsr","attackTime","decayTime","sustainLevel","releaseTime","gateTime","peakLevel","releaseCurve","tab","Object","assign","playStep","getVoicesFor","handleTabSelected","handleTransportStateChanged","initializeAudio","handleFreqChangedH","handlePeakChangedH","makeNote","querySelector","options","latencyHint","sampleRate","window","audioContext","webkitAudioContext","AudioContext","oscGain1","createGain","oscGain2","hpf1","createBiquadFilter","setValueAtTime","currentTime","hpf2","lpf1","lpf2","ADSREnvelope","Q","gain","merger","createChannelMerger","connect","destination","voice1","createOscillator","voice2","noteFreq","textNoteToFrequency","shiftToOctave","voices","when","bpmToS","envelope11","clone","envelope12","applyTo","start","cancelScheduledValues","stop","duration","time","channel1","channel2","channel3","channel4","console","log","element","skipUpdate","sustainTime","handleWaveform1Changed","handleMix1Changed","handleOctave1Changed","handleWaveform2Changed","handleMix2Changed","handleOctave2Changed","handleFreqChangedL","handlePeakChangedL","initialSequence","handleNewSequence","content","getSequencerTab","getControlsTab","onPaused","handlePaused","src","logo","isLocalhost","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","render","URL","process","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"kIAAAA,EAAOC,QAAU,IAA0B,kC,mRCKtBC,E,YAEjB,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KAEDC,MAAQ,CACTC,WAAW,GAGf,EAAKC,kBAAoB,EAAKA,kBAAkBC,KAAvB,gBACzB,EAAKC,kBAAoB,EAAKA,kBAAkBD,KAAvB,gBACzB,EAAKE,kBAAoB,EAAKA,kBAAkBF,KAAvB,gBATV,E,mHAgBf,OACI,6BACQ,uBAAGG,GAAG,aAAaC,KAAK,IAAIC,UAAU,6BAA6BC,QAASC,KAAKR,mBACzE,uBAAGI,GAAG,iBAAiBE,UAAU,gBAEzC,uBAAGF,GAAG,aAAaC,KAAK,IAAIC,UAAU,6BAA6BC,QAASC,KAAKN,mBACzE,uBAAGE,GAAG,iBAAiBE,UAAU,mB,0CAOrD,IAAIG,GAAkBD,KAAKV,MAAMC,UAEjCS,KAAKL,kBAAkBM,GAEvB,IAAIC,EAAW,CACXX,UAAWU,GAEfD,KAAKG,SAASD,GAEdF,KAAKX,MAAMe,kBAAkBH,K,0CAM7BD,KAAKL,mBAFgB,GAIrB,IAAIO,EAAW,CACXX,WALiB,GAOrBS,KAAKG,SAASD,GAEdF,KAAKX,MAAMe,mBATU,GAUrBJ,KAAKX,MAAMgB,W,wCAGGd,GACde,IAAE,eAAeC,YAAY,cAAehB,GAC5Ce,IAAE,eAAeC,YAAY,cAAehB,GAC5Ce,IAAE,mBAAmBC,YAAY,WAAYhB,GAC7Ce,IAAE,mBAAmBC,YAAY,WAAYhB,O,GA7DRiB,a,QCFxBC,E,YAEjB,WAAYpB,GAAQ,IAAD,8BACf,4CAAMA,KAEDC,MAAQ,EAAKoB,kBAElB,EAAKC,YAAc,EAAKA,YAAYlB,KAAjB,gBACnB,EAAKmB,aAAe,EAAKA,aAAanB,KAAlB,gBACpB,EAAKoB,SAAW,EAAKA,SAASpB,KAAd,gBAChB,EAAKqB,YAAc,EAAKA,YAAYrB,KAAjB,gBACnB,EAAKsB,aAAe,EAAKA,aAAatB,KAAlB,gBACpB,EAAKiB,gBAAkB,EAAKA,gBAAgBjB,KAArB,gBAVR,E,+EAcf,IAAIuB,EAAQhB,KAAKX,MAAM4B,QACnBC,EAAY,EAMhB,OAJKlB,KAAKX,MAAM8B,QACZD,EAAYlB,KAAKX,MAAM8B,MAAMC,QAAQJ,IAGlC,CACHA,MAAOA,EACPE,UAAWA,EACXC,MAAOnB,KAAKX,MAAM8B,S,gDAIAE,GACtB,GAAGA,EAAUJ,UAAYjB,KAAKX,MAAM4B,UAChCjB,KAAKG,SAAS,CACVa,MAAOK,EAAUJ,UAGlBjB,KAAKa,YAAY,CAChB,IAAIS,EAAWtB,KAAKX,MAAM8B,MAAMC,QAAQC,EAAUJ,SAClDjB,KAAKG,SAAS,CACVe,UAAWI,O,iCAOvB,QAAUtB,KAAKV,MAAM6B,Q,kCAGbI,GAKR,GAJGA,GACCA,EAAEC,iBAGHxB,KAAKa,YACJ,GAAGb,KAAKc,cAAe,CACnB,IAAIW,EAAOzB,KAAKV,MAAM4B,UAAY,EAC9BQ,EAAM1B,KAAKV,MAAM6B,MAAMM,GAC3BzB,KAAK2B,MAAMX,MAAQU,EAEnB1B,KAAKG,SAAS,CACVe,UAAWO,EACXT,MAAOU,IAGRH,GACCvB,KAAKX,MAAMuC,SAASF,SAI5B,GAAG1B,KAAKc,cAAe,CACnB,IAAIY,EAAMG,SAAS7B,KAAKV,MAAM0B,OAC9BU,GAAY,EACZ1B,KAAK2B,MAAMX,MAAQU,EAEnB1B,KAAKG,SAAS,CACVa,MAAOU,IAGRH,GACCvB,KAAKX,MAAMuC,SAASF,M,mCAMvBH,GAKT,GAJGA,GACCA,EAAEC,iBAGHxB,KAAKa,YACJ,GAAGb,KAAKe,eAAgB,CACpB,IAAIU,EAAMzB,KAAKV,MAAM4B,UAAY,EAC7BQ,EAAM1B,KAAKV,MAAM6B,MAAMM,GAC3BzB,KAAK2B,MAAMX,MAAQU,EAEnB1B,KAAKG,SAAS,CACVe,UAAWO,EACXT,MAAOU,IAGRH,GACCvB,KAAKX,MAAMuC,SAASF,SAI5B,GAAG1B,KAAKe,eAAgB,CACpB,IAAIW,EAAMG,SAAS7B,KAAKV,MAAM0B,OAC9BU,GAAY,EACZ1B,KAAK2B,MAAMX,MAAQU,EAEnB1B,KAAKG,SAAS,CACVa,MAAOU,IAGRH,GACCvB,KAAKX,MAAMuC,SAASF,M,+BAM1B,IAAD,OAEDI,EAAc9B,KAAKc,cAAgB,aAAe,iCAClDiB,EAAe/B,KAAKe,eAAiB,aAAc,iCAEvD,OACI,yBAAKjB,UAAU,WACX,uBAAGD,KAAK,IAAIE,QAAS,SAACwB,GAAO,EAAKZ,YAAYY,KAC1C,yBAAKzB,UAAU,GAAGkC,MAAM,6BAA6BC,QAAQ,mBACzD,uBAAGrC,GAAG,WACF,uBAAGA,GAAG,UACF,uBAAGA,GAAG,aACF,uBAAGA,GAAG,iBACF,0BAAMA,GAAG,WAAWE,UAAWgC,EACzBI,EAAE,mGAOhC,2BAAOpC,UAAU,YAAYkB,MAAOhB,KAAKV,MAAM0B,MAAOmB,IAAK,SAACR,GAAD,OAAW,EAAKA,MAAQA,GAAOS,UAAQ,IAClG,uBAAGvC,KAAK,IAAIwC,YAAarC,KAAKsC,OAAQC,UAAWvC,KAAKwC,KAAMzC,QAAS,SAACwB,GAAO,EAAKX,aAAaW,KAC3F,yBAAKS,MAAM,6BAA6BC,QAAQ,mBAC5C,2BACI,2BACI,2BACI,2BACI,0BAAMrC,GAAG,YAAYE,UAAWiC,EAC1BG,EAAE,4G,qCAYxC,OAAOlC,KAAKa,WAAab,KAAKV,MAAM4B,UAAYlB,KAAKV,MAAM6B,MAAMsB,OAAS,EAAIZ,SAAS7B,KAAKV,MAAM0B,OAASa,SAAS7B,KAAKX,MAAMqD,O,oCAI/H,OAAO1C,KAAKa,WAAab,KAAKV,MAAM4B,UAAY,EAAIW,SAAS7B,KAAKV,MAAM0B,OAASa,SAAS7B,KAAKX,MAAMsD,S,GAxKxEnC,aCIhBoC,E,YAEjB,WAAYvD,GAAQ,IAAD,8BACf,4CAAMA,KA2DVwD,sBAAwB,SAACtD,GACrB,IAAIuD,EAAeF,EAAUG,QAAQ,EAAKzD,MAAM0D,KAEhD,GAAGzD,EAAW,CACV,IAAI0D,EAAaC,KAAkB,WAC/B,EAAKC,eACNL,GAEH,EAAK3C,SAAS,CACV8C,WAAYA,SAGa,OAA1B,EAAK3D,MAAM2D,aACVC,IAAoB,EAAK5D,MAAM2D,YAE/B,EAAK9C,SAAS,CACV8C,WAAY,QAQxB,EAAK9C,SAHU,CACXiD,WAAW,IAIf,EAAKC,qBAAoB,IAnFzB,EAAK/D,MAAQ,CACT2D,WAAY,KACZG,WAAW,EACXE,KAAM,EACNN,IAAK,IACLO,MAAO,EAAKlE,MAAMkE,MAAQ,EAAKlE,MAAMkE,MAAQ,IAGjD,EAAKJ,WAAa,EAAKA,WAAW1D,KAAhB,gBAClB,EAAK+D,WAAa,EAAKA,WAAW/D,KAAhB,gBAClB,EAAKgE,cAAgB,EAAKA,cAAchE,KAAnB,gBACrB,EAAK4D,oBAAsB,EAAKA,oBAAoB5D,KAAzB,gBAdZ,E,mHAoBT,IAAD,OACL,OACI,yBAAKK,UAAU,aACX,kBAAC,EAAD,CAAiBM,kBAAmBJ,KAAK6C,sBAAuBxC,OAAQL,KAAKwD,aAC7E,yBAAK1D,UAAU,YACX,uCAAkB,kBAAC,EAAD,CAASmB,QAASjB,KAAKV,MAAM0D,IAAKL,IAAK,EAAGD,IAAK,IAAKd,SAAU,SAAC8B,GAAc,EAAKC,kBAAkBD,U,wCAMpHV,GAAM,IAAD,OAEnBhD,KAAKG,SAAS,CACV6C,IAAKA,IAGT,IAAIF,EAAeF,EAAUG,QAAQC,GAErC,GAAGhD,KAAKV,MAAM2D,WAAY,CACtBC,IAAoBlD,KAAKV,MAAM2D,YAC/B,IAAIA,EAAaC,KAAkB,WAC/B,EAAKC,eACNL,GAEH9C,KAAKG,SAAS,CACV8C,WAAYA,O,mCAMpBjD,KAAK6C,uBAAsB,GAC3B7C,KAAKqD,qBAAoB,GACzBrD,KAAKG,SAAS,CACViD,WAAW,EACXE,KAAM,M,0CAiCMF,GAChBpD,KAAKX,MAAMuE,iBAAiBR,K,mCAiBzBpD,KAAKX,MAAMwE,QACV7D,KAAKX,MAAMwE,OAAO7D,KAAKV,MAAMgE,MAEjCtD,KAAKyD,kB,sCAIL,IAEIvD,EAAW,CACXoD,MAHQtD,KAAKV,MAAMgE,KAAO,GAAKtD,KAAKV,MAAMiE,OAK9CvD,KAAKG,SAASD,M,+BA1BH8C,GACX,OAAO,IAAQA,EAAM,I,8BAGVc,GACX,OAAO,IAAQA,I,6BAGLd,GACV,OAAOJ,EAAUG,QAAQC,GAAO,Q,GAxGDxC,aCPlBuD,E,iHASUC,GACvB,OAAOA,GACH,IAAK,IACD,OAAOD,EAAaE,GACxB,IAAK,KACD,OAAOF,EAAaG,gBAAgB,GACxC,IAAK,IACD,OAAOH,EAAaG,gBAAgB,GACxC,IAAK,KACD,OAAOH,EAAaG,gBAAgB,GACxC,IAAK,IACD,OAAOH,EAAaG,gBAAgB,GACxC,IAAK,IACD,OAAOH,EAAaG,gBAAgB,GACxC,IAAK,KACD,OAAOH,EAAaG,gBAAgB,GACxC,IAAK,IACD,OAAOH,EAAaG,gBAAgB,GACxC,IAAK,KACD,OAAOH,EAAaG,gBAAgB,GACxC,IAAK,IACD,OAAOH,EAAaG,gBAAgB,GACxC,IAAK,KACD,OAAOH,EAAaG,gBAAgB,IACxC,IAAK,IACD,OAAOH,EAAaG,gBAAgB,O,sCAIzBC,GACnB,OAAOJ,EAAaE,GAAKG,KAAKC,IAAIN,EAAaO,EAAGH,K,oCAGjCI,EAAWC,GAC5B,IAAI,IAAIC,EAAI,EAAGA,EAAID,IAAUC,EACzBF,GAAa,EAGjB,OAAOA,I,yBA7CP,OAAO,Q,wBAIP,OAAO,mB,KCFMG,G,kBAEjB,WAAYrF,GAAQ,IAAD,8BACf,4CAAMA,KAEDC,MAAQ,GAGb,EAAKqF,QAAU,EAAKA,QAAQlF,KAAb,gBANA,E,qEASXmF,GAAU,IAAD,OACb,OAAOA,GACH,IAAK,IACD,OACI,2BACI,0BAAM7E,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,wGAC9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,kIAE9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,8IAE9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,kGAC9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,0HAE9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,uGAC9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,kGAC9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,kJAI1G,IAAK,IACD,OACI,2BACI,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,uGAC/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,+IAE/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,4IAE/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,iGAC/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,oIAE/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,qGAC/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,6FAC/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,kJAI3G,IAAK,IACD,OACI,2BACI,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,2JAE9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,4GAC9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,wGAC9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,iJAE9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,oJAE9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,qGAC9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,yGAC9F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,UAAUoC,EAAE,uJAI1G,IAAK,IACD,OACI,2BACI,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,8IAE/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,mGAC/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,2FAC/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,sJAE/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,oJAE/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,mGAC/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,+FAC/F,0BAAMnC,QAAS,SAACwB,GAAO,EAAKlC,MAAMwF,cAActD,EAAEuD,OAAOlF,KAAMA,GAAG,MAAME,UAAU,WAAWoC,EAAE,wJAI3G,QACI,OAAO,K,+BAIT,IAAD,OACD6C,EAAO/E,KAAK2E,QAAQ3E,KAAKX,MAAMuF,SAC/BI,EAAkC,MAAvBhF,KAAKX,MAAMuF,SAA0C,MAAvB5E,KAAKX,MAAMuF,QAAkB,UAAY,WAEhFK,EAAoBC,IAAMC,SAASC,IAAIL,EAAK1F,MAAMgG,UACpD,SAACC,GAAD,OAAWJ,IAAMK,aAAaD,EAAO,CACjCxF,UAAYwF,EAAMjG,MAAMO,KAAZ,UAAuB,EAAKP,MAAMuF,QAAU,EAA5C,YAAkD,EAAKvF,MAAMiE,OAAW,EAAKjE,MAAM+D,UAApF,UAAmG4B,EAAnG,WAAuHA,OAI1I,OACI,2BACKC,K,0CAMTjF,KAAKwF,2B,2CAKLxF,KAAKwF,2B,+CAGiB,IAAD,OACrBxF,KAAKX,MAAMoG,OAAOC,SAAQ,SAACC,EAAOlB,GAC9B,IAAI7E,EAAE,UAAO,EAAKP,MAAMuF,QAAU,EAA5B,YAAkCH,GACpCnB,EAAOsC,SAASC,eAAejG,GAE/B+F,EACArC,EAAKwC,UAAUC,IAAI,cAEnBzC,EAAKwC,UAAUE,OAAO,qB,GAxHExF,c,iBCGnByF,E,YAEjB,WAAY5G,GAAQ,IAAD,8BACf,4CAAMA,KAED6G,eAAiB,EAAKA,eAAezG,KAApB,gBACtB,EAAK0G,kBAAoB,EAAKA,kBAAkB1G,KAAvB,gBACzB,EAAK2G,iBAAmB,EAAKA,iBAAiB3G,KAAtB,gBACxB,EAAK4G,kBAAoB,EAAKA,kBAAkB5G,KAAvB,gBACzB,EAAK6G,mBAAqB,EAAKA,mBAAmB7G,KAAxB,gBAC1B,EAAK8G,OAAS,EAAKA,OAAO9G,KAAZ,gBAEd,EAAK+G,cAAgB,CAAC,KAAM,KAAM,KAAM,MAExC,EAAKC,aAAe,CAChBC,MAAO,EAAKR,iBACZS,cAAe,CAAC,IAAK,IAAK,IAAK,KAC/BC,QAAS,CAAC,EAAE,EAAE,EAAE,IAGpB,EAAKtH,MAAQ,CACToH,MAAO,EAAKR,iBACZS,cAAe,CAAC,IAAK,IAAK,IAAK,KAC/BC,QAAS,CAAC,EAAE,EAAE,EAAE,IArBL,E,iFA0Bf,IAAIC,EAAaC,eAAeC,QAAQ,oBACxCF,EAAaG,KAAKC,MAAMJ,MACN7G,KAAKyG,cACnBzG,KAAKG,SAAS0G,K,6CAKlB,GAAG7G,KAAKV,QAAUU,KAAKyG,aAAc,CACjC,IAAIS,EAAYF,KAAKG,UAAUnH,KAAKV,OACpCwH,eAAeM,QAAQ,kBAAmBF,M,uCAM9C,IADA,IAAIR,EAAQ,CAAE,GAAG,GAAG,GAAG,IACfjC,EAAI,EAAGA,EAAI,IAAKA,EACpB,IAAI,IAAI4C,EAAI,EAAGA,EAAIrH,KAAKX,MAAMkE,QAAS8D,EACnCX,EAAMjC,GAAG4C,GAAK,KAGtB,OAAOX,I,wCAGOnF,GACd,IAAI+F,EAAO/F,EAAEgG,MAAM,KACfC,EAAkBxH,KAAKV,MAAMoH,MAAMe,QACnCD,EAAgBF,EAAK,IAAIA,EAAK,KAO9BE,EAAgBF,EAAK,IAAIA,EAAK,IAAM,KAEjCtH,KAAKwG,cAAcc,EAAK,KACvBtH,KAAKwG,cAAcc,EAAK,IAAI3G,YAAY,QAT5C6G,EAAgBF,EAAK,IAAIA,EAAK,IAAMtH,KAAKV,MAAMqH,cAAcW,EAAK,IAE/DtH,KAAKwG,cAAcc,EAAK,KACvBtH,KAAKwG,cAAcc,EAAK,IAAI1G,aAAa,OAUjDZ,KAAKG,SAAS,CACVuG,MAAOc,IAGXxH,KAAKX,MAAMqI,cAAcF,K,uCAGZG,EAAO3D,GACpB,IAAI4D,EAAQ5H,KAAKV,MAAMqH,cAAcc,QACrCG,EAAMD,GAAS3D,EAEf,IAAI6D,EAAW7H,KAAKV,MAAMoH,MAAMe,QAChCI,EAASF,GAAOjC,SAAQ,SAACoC,EAASrD,GAC3BqD,IACCD,EAASF,GAAOlD,GAAKT,MAI7BhE,KAAKG,SAAS,CACVwG,cAAeiB,EACflB,MAAOmB,IAGX7H,KAAKX,MAAMqI,cAAcG,K,wCAGXF,EAAOlC,GACrB,IAAIsC,EAASC,IAAOC,WAAWxC,EAAQzF,KAAKX,MAAMkE,OAClDwE,EAAS/H,KAAKuG,OAAOwB,EAAQ/H,KAAKV,MAAMsH,QAAQe,IAEhD,IAAIO,EAAelI,KAAKV,MAAMoH,MAAMe,QAChCzD,EAAOhE,KAAKV,MAAMqH,cAAcgB,GAEpCI,EAAOrC,SAAQ,SAACpC,EAAMmB,GAClByD,EAAaP,GAAOlD,GAAc,IAATnB,EAAaU,EAAO,QAGjDhE,KAAKG,SAAS,CACVuG,MAAOwB,IAGXlI,KAAKX,MAAMqI,cAAcQ,K,yCAGVP,EAAOQ,GACtB,IAAIvB,EAAU5G,KAAKV,MAAMsH,QAAQa,QACjCb,EAAQe,GAASQ,EAEjB,IAAIN,EAAW7H,KAAKV,MAAMoH,MAAMe,QAChCI,EAASF,GAAS3H,KAAKuG,OAAOsB,EAASF,GAAQQ,GAE/CnI,KAAKG,SAAS,CACVuG,MAAOmB,EACPjB,QAASA,IAGb5G,KAAKX,MAAMqI,cAAcG,K,6BAGtBO,EAAOC,GACV,IAAIC,EAAIF,EAAM3F,OACd,OAAO2F,EAAMX,MAAMa,EAAID,GAAGE,OAAOH,EAAMX,MAAM,EAAGa,EAAID,M,+BAG9C,IAAD,OAEDG,EAAa,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,KAE1EC,EAAmBzI,KAAKV,MAAMoH,MAAM,GAAM1G,KAAKV,MAAMoH,MAAM,GAAGgC,OAAOC,SAASlG,OAAS,EACvFmG,EAAmB5I,KAAKV,MAAMoH,MAAM,GAAM1G,KAAKV,MAAMoH,MAAM,GAAGgC,OAAOC,SAASlG,OAAS,EACvFoG,EAAmB7I,KAAKV,MAAMoH,MAAM,GAAM1G,KAAKV,MAAMoH,MAAM,GAAGgC,OAAOC,SAASlG,OAAS,EACvFqG,EAAmB9I,KAAKV,MAAMoH,MAAM,GAAM1G,KAAKV,MAAMoH,MAAM,GAAGgC,OAAOC,SAASlG,OAAS,EAEvFsG,EAAeP,EAAWA,EAAWpH,QAAQpB,KAAKV,MAAMqH,cAAc,KACtEqC,EAAeR,EAAWA,EAAWpH,QAAQpB,KAAKV,MAAMqH,cAAc,KACtEsC,EAAeT,EAAWA,EAAWpH,QAAQpB,KAAKV,MAAMqH,cAAc,KACtEuC,EAAeV,EAAWA,EAAWpH,QAAQpB,KAAKV,MAAMqH,cAAc,KAEtEwC,EAAiBnJ,KAAKV,MAAMsH,QAAQ,GACpCwC,EAAiBpJ,KAAKV,MAAMsH,QAAQ,GACpCyC,EAAiBrJ,KAAKV,MAAMsH,QAAQ,GACpC0C,EAAiBtJ,KAAKV,MAAMsH,QAAQ,GAExC,OACI,yBAAK9G,UAAU,UACX,yBAAKA,UAAU,QACX,yBAAKF,GAAG,WAAW2J,QAAQ,MACtBvH,MAAM,6BACNwH,WAAW,+BACXC,EAAE,MACFC,EAAE,MACFC,MAAM,UACNC,OAAO,UACP3H,QAAQ,kBACR4H,SAAS,YACV,kBAAC,EAAD,CAAYzG,UAAWpD,KAAKX,MAAM+D,UAAWwB,QAAQ,IAAIa,OAAQzF,KAAKV,MAAMoH,MAAM,GAAIpD,KAAMtD,KAAKX,MAAMiE,KAAMuB,cAAe,SAACtD,GAAO,EAAK4E,kBAAkB5E,MAC3J,kBAAC,EAAD,CAAY6B,UAAWpD,KAAKX,MAAM+D,UAAWwB,QAAQ,IAAIa,OAAQzF,KAAKV,MAAMoH,MAAM,GAAIpD,KAAMtD,KAAKX,MAAMiE,KAAMuB,cAAe,SAACtD,GAAO,EAAK4E,kBAAkB5E,MAC3J,kBAAC,EAAD,CAAY6B,UAAWpD,KAAKX,MAAM+D,UAAWwB,QAAQ,IAAIa,OAAQzF,KAAKV,MAAMoH,MAAM,GAAIpD,KAAMtD,KAAKX,MAAMiE,KAAMuB,cAAe,SAACtD,GAAO,EAAK4E,kBAAkB5E,MAC3J,kBAAC,EAAD,CAAY6B,UAAWpD,KAAKX,MAAM+D,UAAWwB,QAAQ,IAAIa,OAAQzF,KAAKV,MAAMoH,MAAM,GAAIpD,KAAMtD,KAAKX,MAAMiE,KAAMuB,cAAe,SAACtD,GAAO,EAAK4E,kBAAkB5E,QAGnK,yBAAKzB,UAAU,WACX,yBAAKA,UAAU,SAAf,SACA,qCACA,uCACA,uCAEA,yBAAKA,UAAU,SAAf,KACA,kBAAC,EAAD,CAASmB,QAAS8H,EAAc5H,MAAOqH,EAAY5G,SAAU,SAACF,GAAO,EAAK0E,iBAAiB,EAAG1E,MAC9F,kBAAC,EAAD,CAASS,IAAK,SAAC2H,GAAa,EAAKtD,cAAc,GAAKsD,GAAW7I,QAASwH,EAAiB9F,IAAK,EAAGD,IAAK,EAAGd,SAAU,SAACF,GAAS,EAAK2E,kBAAkB,EAAG3E,MACvJ,kBAAC,EAAD,CAAST,QAASkI,EAAgBxG,IAAK,EAAGD,IAAK,EAAGd,SAAU,SAACF,GAAS,EAAK4E,mBAAmB,EAAG5E,MAEjG,yBAAK5B,UAAU,SAAf,KACA,kBAAC,EAAD,CAASmB,QAAS+H,EAAc7H,MAAOqH,EAAY5G,SAAU,SAACF,GAAO,EAAK0E,iBAAiB,EAAG1E,MAC9F,kBAAC,EAAD,CAASS,IAAK,SAAC2H,GAAa,EAAKtD,cAAc,GAAKsD,GAAW7I,QAAS2H,EAAiBjG,IAAK,EAAGD,IAAK,EAAGd,SAAU,SAACF,GAAS,EAAK2E,kBAAkB,EAAG3E,MACvJ,kBAAC,EAAD,CAAST,QAASmI,EAAgBzG,IAAK,EAAGD,IAAK,EAAGd,SAAU,SAACF,GAAS,EAAK4E,mBAAmB,EAAG5E,MAEjG,yBAAK5B,UAAU,SAAf,KACA,kBAAC,EAAD,CAASmB,QAASgI,EAAc9H,MAAOqH,EAAY5G,SAAU,SAACF,GAAO,EAAK0E,iBAAiB,EAAG1E,MAC9F,kBAAC,EAAD,CAASS,IAAK,SAAC2H,GAAa,EAAKtD,cAAc,GAAKsD,GAAW7I,QAAS4H,EAAiBlG,IAAK,EAAGD,IAAK,EAAGd,SAAU,SAACF,GAAS,EAAK2E,kBAAkB,EAAG3E,MACvJ,kBAAC,EAAD,CAAST,QAASoI,EAAgB1G,IAAK,EAAGD,IAAK,EAAGd,SAAU,SAACF,GAAS,EAAK4E,mBAAmB,EAAG5E,MAEjG,yBAAK5B,UAAU,SAAf,KACA,kBAAC,EAAD,CAASmB,QAASiI,EAAc/H,MAAOqH,EAAY5G,SAAU,SAACF,GAAO,EAAK0E,iBAAiB,EAAG1E,MAC9F,kBAAC,EAAD,CAASS,IAAK,SAAC2H,GAAa,EAAKtD,cAAc,GAAKsD,GAAW7I,QAAS6H,EAAiBnG,IAAK,EAAGD,IAAK,EAAGd,SAAU,SAACF,GAAS,EAAK2E,kBAAkB,EAAG3E,MACvJ,kBAAC,EAAD,CAAST,QAASqI,EAAgB3G,IAAK,EAAGD,IAAK,EAAGd,SAAU,SAACF,GAAS,EAAK4E,mBAAmB,EAAG5E,Y,GAlM9ElB,a,iBCLlBuJ,E,YAEjB,WAAY1K,GAAQ,IAAD,8BACf,4CAAMA,KAED2K,YAAc,EAAKA,YAAYvK,KAAjB,gBAHJ,E,yEAMP8B,GACGqE,SAASqE,iBAAiB,QAChCvE,SAAQ,SAACwE,GACVA,EAAKpE,UAAUE,OAAO,mBAG1B,IAAImE,EAAM5I,EAAEuD,OAAOsF,cACnBpK,KAAKX,MAAMgL,cAAcF,K,+BAGnB,IAAD,OAEDG,EAAO,cAAUtK,KAAKX,MAAMkL,UAChC,OACI,yBAAKzK,UAAWwK,GAAS,uBAAGzK,KAAK,IAAIE,QAAS,SAACwB,GAAK,EAAKyI,YAAYzI,KAAMvB,KAAKX,MAAMmL,Y,GAtBjEhK,aCIZiK,G,wBAEjB,WAAYpL,GAAQ,IAAD,8BACf,4CAAMA,KAEDC,MAAQ,CACToL,OAAO,UAAD,OAAYrL,EAAMO,IACxB+K,SAAU,EAAKtL,MAAMuL,WACrBC,IAAK,EAAKxL,MAAMyL,WAChBtG,OAAQ,EAAKnF,MAAM0L,eAGvB,EAAKC,UAAY,EAAKA,UAAUvL,KAAf,gBACjB,EAAKwL,kBAAoB,EAAKA,kBAAkBxL,KAAvB,gBACzB,EAAKyL,gBAAkB,EAAKA,gBAAgBzL,KAArB,gBAZR,E,iFAeE,IAAD,OAEhBa,IAAE,IAAD,OAAKN,KAAKV,MAAMoL,SAAUS,KAAK,CAC5B,OAAW,SAACC,GACR,EAAKF,gBAAgBE,GAAG,IAE5B,QAAY,SAACA,GACT,EAAKF,gBAAgBE,GAAG,MAIhC,IAAIvE,EAAaG,KAAKC,MAAMH,eAAeC,QAAQ/G,KAAKX,MAAMO,KAC3DiH,GACC7G,KAAKG,SAAS0G,K,2CAMlBvG,IAAE,IAAD,OAAKN,KAAKV,MAAMoL,SAAUW,QAAQ,U,6CAInCrL,KAAKgL,c,kCAIL,IAAI1L,EAAQ0H,KAAKG,UAAUnH,KAAKV,OAChCwH,eAAeM,QAAQpH,KAAKX,MAAMO,GAAIN,K,+BAGhC,IAAD,OAIL,OACI,yBAAKQ,UAAU,cACX,yBAAKA,UAAU,OACX,wBAAIA,UAAU,eAAeE,KAAKX,MAAMO,KAE5C,yBAAKE,UAAU,OACX,uCACA,kBAAC,EAAD,CAASqB,MATL,CAAC,SAAK,SAAK,SAAK,gBASOF,QAASjB,KAAKV,MAAMqL,SAAU/I,SAAU,SAACF,GAAO,EAAKuJ,kBAAkBvJ,OAEtG,yBAAK5B,UAAU,OACX,kCACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAMuL,IAAKjL,GAAII,KAAKV,MAAMoL,OAAQ5K,UAAU,OAAOyL,aAAW,KACtFC,cAAY,KAAKC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQC,WAAS,KAAKC,mBAAiB,SAGnI,yBAAK/L,UAAU,OACX,qCACA,kBAAC,EAAD,CAAS6C,IAAK,EAAGD,IAAK,EAAGzB,QAASjB,KAAKV,MAAMkF,OAAQ5C,SAAU,SAACF,GAAS,EAAKoK,oBAAoBpK,U,wCAMhGA,GAAM,IAAD,OACfiJ,EAAW,OAEf,OAAOjJ,GACH,IAAK,SACDiJ,EAAW,OACX,MACJ,IAAK,SACDA,EAAW,SACX,MACJ,IAAK,SACDA,EAAW,WACX,MACJ,IAAK,eACDA,EAAW,WAInB3K,KAAKG,SAAS,CACVwK,SAAUjJ,IACX,WACC,EAAKsJ,eAGThL,KAAKX,MAAM0M,kBAAkBpB,K,sCAGjBS,EAAGY,GAAa,IAAD,OAEvBnB,EAAMO,EAAE,IACZpL,KAAKG,SAAS,CACV0K,IAAKhJ,SAASuJ,KACf,WACC,EAAKJ,eAEThL,KAAKX,MAAM4M,aAAapB,EAAKmB,K,0CAGbtK,GAAM,IAAD,OAErB1B,KAAKG,SAAS,CACVqE,OAAQ9C,IACT,WACC,EAAKsJ,eAEThL,KAAKX,MAAM6M,gBAAgBxK,O,GAxHKlB,cCDnB2L,G,kBAEjB,WAAY9M,GAAQ,IAAD,8BACf,4CAAMA,KAEDC,MAAQ,CACT8M,WAAW,YAAD,OAAc,EAAK/M,MAAMO,IACnCyM,WAAW,YAAD,OAAc,EAAKhN,MAAMO,IACnCA,GAAKP,EAAMO,GACX2E,UAAW,IACX+H,KAAM,GAGV,EAAKC,kBAAoB,EAAKA,kBAAkB9M,KAAvB,gBACzB,EAAK+M,kBAAoB,EAAKA,kBAAkB/M,KAAvB,gBACzB,EAAKuL,UAAY,EAAKA,UAAUvL,KAAf,gBAbF,E,iFAgBE,IAAD,OAChBa,IAAE,IAAIN,KAAKV,MAAM8M,YAAYjB,KAAK,CAC9B,OAAW,SAACC,GACR,EAAKoB,kBAAkBpB,GAAG,IAE9B,QAAY,SAACA,GACT,EAAKoB,kBAAkBpB,GAAG,MAGlC9K,IAAE,IAAIN,KAAKV,MAAM+M,YAAYlB,KAAK,CAC9B,OAAW,SAACC,GACR,EAAKmB,kBAAkBnB,GAAG,IAE9B,QAAY,SAACA,GACT,EAAKmB,kBAAkBnB,GAAG,MAIlC,IAAIvE,EAAaG,KAAKC,MAAMH,eAAeC,QAAQ/G,KAAKX,MAAMO,KAC3DiH,GACC7G,KAAKG,SAAS0G,K,2CAKlBvG,IAAE,IAAIN,KAAKV,MAAM+M,YAAYhB,QAAQ,QACrC/K,IAAE,IAAIN,KAAKV,MAAM8M,YAAYf,QAAQ,U,6CAIrCrL,KAAKgL,c,kCAIL,IAAI1L,EAAQ0H,KAAKG,UAAUnH,KAAKV,OAChCwH,eAAeM,QAAQpH,KAAKX,MAAMO,GAAIN,K,+BAItC,OACI,yBAAKQ,UAAU,UACX,yBAAKA,UAAU,OACX,wBAAIA,UAAU,eAAeE,KAAKV,MAAMM,KAE5C,yBAAKE,UAAU,QACX,mCACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAMiF,UAAWjB,KAAK,IAAI1D,GAAII,KAAKV,MAAM+M,WAAYvM,UAAU,OAAOyL,aAAW,KAAKK,WAAS,OACvHa,WAAS,IAAIjB,cAAY,KAAMC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQE,mBAAiB,SAEnI,yBAAK/L,UAAU,QACX,mCACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAMgN,KAAM1M,GAAII,KAAKV,MAAM8M,WAAYtM,UAAU,OAAOyL,aAAW,KAAKK,WAAS,KACzGJ,cAAY,KAAMC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQE,mBAAiB,Y,wCAMhHT,EAAGY,GACjBhM,KAAKG,SAAS,CACVoE,UAAW6G,IAEfpL,KAAKX,MAAMqN,cAActB,EAAGY,K,wCAGdZ,EAAGY,GACjBhM,KAAKG,SAAS,CACVmM,KAAMlB,IAEVpL,KAAKX,MAAMsN,cAAcvB,EAAGY,O,GAvFOxL,cCAtBoM,E,YAEjB,WAAYvN,GAAQ,IAAD,8BACf,4CAAMA,KAEDC,MAAQ,CACT8M,WAAW,YAAD,OAAc,EAAK/M,MAAMO,IACnCyM,WAAW,YAAD,OAAc,EAAKhN,MAAMO,IACnCA,GAAKP,EAAMO,GACX2E,UAAW,EACX+H,KAAM,GAGV,EAAKC,kBAAoB,EAAKA,kBAAkB9M,KAAvB,gBACzB,EAAK+M,kBAAoB,EAAKA,kBAAkB/M,KAAvB,gBACzB,EAAKuL,UAAY,EAAKA,UAAUvL,KAAf,gBAbF,E,iFAgBE,IAAD,OAChBa,IAAE,IAAIN,KAAKV,MAAM8M,YAAYjB,KAAK,CAC9B,OAAW,SAACC,GACR,EAAKoB,kBAAkBpB,GAAG,IAE9B,QAAY,SAACA,GACT,EAAKoB,kBAAkBpB,GAAG,MAGlC9K,IAAE,IAAIN,KAAKV,MAAM+M,YAAYlB,KAAK,CAC9B,OAAW,SAACC,GACR,EAAKmB,kBAAkBnB,GAAG,IAE9B,QAAY,SAACA,GACT,EAAKmB,kBAAkBnB,GAAG,MAIlC,IAAIvE,EAAaG,KAAKC,MAAMH,eAAeC,QAAQ/G,KAAKX,MAAMO,KAC3DiH,GACC7G,KAAKG,SAAS0G,K,2CAKlBvG,IAAE,IAAIN,KAAKV,MAAM+M,YAAYhB,QAAQ,QACrC/K,IAAE,IAAIN,KAAKV,MAAM8M,YAAYf,QAAQ,U,6CAIrCrL,KAAKgL,c,kCAIL,IAAI1L,EAAQ0H,KAAKG,UAAUnH,KAAKV,OAChCwH,eAAeM,QAAQpH,KAAKX,MAAMO,GAAIN,K,+BAItC,OACI,yBAAKQ,UAAU,UACX,yBAAKA,UAAU,OAAM,wBAAIA,UAAU,eAAeE,KAAKV,MAAMM,KAC7D,yBAAKE,UAAU,QACX,mCACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAMiF,UAAWjB,KAAK,IAAI1D,GAAII,KAAKV,MAAM+M,WAAYvM,UAAU,OAAOyL,aAAW,KAAKK,WAAS,MACvHa,WAAS,IAAIjB,cAAY,KAAKC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQE,mBAAiB,SAElI,yBAAK/L,UAAU,QACX,mCACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAMgN,KAAMhJ,KAAK,IAAI1D,GAAII,KAAKV,MAAM8M,WAAYtM,UAAU,OAAOyL,aAAW,KAAKK,WAAS,KAClHJ,cAAY,KAAMC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQE,mBAAiB,Y,wCAMhHT,EAAGY,GACjBhM,KAAKG,SAAS,CACVoE,UAAW6G,IAEfpL,KAAKX,MAAMqN,cAActB,EAAGY,K,wCAGdZ,EAAGY,GACjBhM,KAAKG,SAAS,CACVmM,KAAMlB,IAEVpL,KAAKX,MAAMsN,cAAcvB,EAAGY,O,GArFQxL,aCAvBqM,G,kBAEjB,WAAYxN,GAAQ,IAAD,8BACf,4CAAMA,KAEDC,MAAQ,CACTM,GAAKP,EAAMO,GACXkN,OAAQ,GACRC,MAAO,GACPC,QAAS,GACTC,QAAS,IAGb,EAAKC,oBAAsB,EAAKA,oBAAoBzN,KAAzB,gBAC3B,EAAK0N,mBAAqB,EAAKA,mBAAmB1N,KAAxB,gBAC1B,EAAK2N,qBAAuB,EAAKA,qBAAqB3N,KAA1B,gBAC5B,EAAK4N,qBAAuB,EAAKA,qBAAqB5N,KAA1B,gBAC5B,EAAKuL,UAAY,EAAKA,UAAUvL,KAAf,gBAfF,E,iFAkBE,IAAD,OAChBa,IAAE,WAAW6K,KAAK,CACd,OAAW,SAACC,GACR,EAAK8B,oBAAoB9B,GAAG,IAEhC,QAAY,SAACA,GACT,EAAK8B,oBAAoB9B,GAAG,MAGpC9K,IAAE,UAAU6K,KAAK,CACb,OAAW,SAACC,GACR,EAAK+B,mBAAmB/B,GAAG,IAE/B,QAAY,SAACA,GACT,EAAK+B,mBAAmB/B,GAAG,MAGnC9K,IAAE,YAAY6K,KAAK,CACf,OAAW,SAACC,GACR,EAAKiC,qBAAqBjC,GAAG,IAEjC,QAAY,SAACA,GACT,EAAKiC,qBAAqBjC,GAAG,MAGrC9K,IAAE,YAAY6K,KAAK,CACf,OAAW,SAACC,GACR,EAAKgC,qBAAqBhC,GAAG,IAEjC,QAAY,SAACA,GACT,EAAKgC,qBAAqBhC,GAAG,MAIrC,IAAIvE,EAAaG,KAAKC,MAAMH,eAAeC,QAAQ,SAChDF,GACC7G,KAAKG,SAAS0G,K,2CAKlBvG,IAAE,WAAW+K,QAAQ,QACrB/K,IAAE,UAAU+K,QAAQ,QACpB/K,IAAE,YAAY+K,QAAQ,QACtB/K,IAAE,YAAY+K,QAAQ,U,6CAItBrL,KAAKgL,c,kCAIL,IAAI1L,EAAQ0H,KAAKG,UAAUnH,KAAKV,OAChCwH,eAAeM,QAAQ,OAAQ9H,K,+BAI/B,OACI,yBAAKQ,UAAU,QACP,yBAAKA,UAAU,UACX,wBAAIA,UAAU,eAAd,KACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAMwN,OAAQlN,GAAG,SAASE,UAAU,OAAOyL,aAAW,KAAKK,WAAS,MAC5FJ,cAAY,KAAOC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQE,mBAAiB,SAEvH,yBAAK/L,UAAU,SACX,wBAAIA,UAAU,eAAd,KACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAMyN,MAAOnN,GAAG,QAAQE,UAAU,OAAOyL,aAAW,KAAKK,WAAS,MAC1FJ,cAAY,KAAOC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQE,mBAAiB,SAEvH,yBAAK/L,UAAU,WACX,wBAAIA,UAAU,eAAd,KACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAM0N,QAASpN,GAAG,UAAUE,UAAU,OAAOyL,aAAW,KAAKK,WAAS,MAC9FJ,cAAY,KAAOC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQE,mBAAiB,SAEvH,yBAAK/L,UAAU,WACX,wBAAIA,UAAU,eAAd,KACA,2BAAOwL,KAAK,OAAOtK,MAAOhB,KAAKV,MAAM2N,QAASrN,GAAG,UAAUE,UAAU,OAAOyL,aAAW,KAAKK,WAAS,MAC9FJ,cAAY,KAAOC,eAAa,UAAUC,eAAa,UAAUC,oBAAkB,QAAQE,mBAAiB,Y,0CAMnHT,EAAGY,GACnBhM,KAAKG,SAAS,CACV2M,OAAQ1B,IAEZpL,KAAKX,MAAMiO,gBAAgBlC,EAAE,IAAKY,K,yCAGnBZ,EAAGY,GAClBhM,KAAKG,SAAS,CACV4M,MAAO3B,IAEXpL,KAAKX,MAAMkO,eAAenC,EAAE,IAAKY,K,2CAGhBZ,EAAGY,GACpBhM,KAAKG,SAAS,CACV6M,QAAS5B,IAEbpL,KAAKX,MAAMmO,iBAAiBpC,EAAE,IAAKY,K,2CAGlBZ,EAAGY,GACpBhM,KAAKG,SAAS,CACV8M,QAAS7B,IAEbpL,KAAKX,MAAMoO,iBAAiBrC,EAAE,IAAKY,O,GAhITxL,cCEbkN,E,YAEjB,WAAYrO,GAAQ,qEACVA,I,sEAID,IAAD,OACJ,OACI,yBAAKS,UAAU,gBACX,yBAAKA,UAAU,QACX,kBAAC,EAAD,CAAYF,GAAG,QACHgL,WAAW,SAAIE,WAAY,GAAIC,cAAe,EAC9CgB,kBAAmB,SAACpB,GAAc,EAAKtL,MAAMsO,mBAAmBhD,IAChEsB,aAAc,SAACpB,EAAKmB,GAAgB,EAAK3M,MAAMuO,cAAc/C,EAAKmB,IAClEE,gBAAiB,SAAC1H,GAAY,EAAKnF,MAAMwO,iBAAiBrJ,OAG1E,yBAAK1E,UAAU,QACX,kBAAC,EAAD,CAAYF,GAAG,QACHgL,WAAW,SAAIE,WAAY,GAAIC,cAAe,EAC9CgB,kBAAmB,SAACpB,GAAc,EAAKtL,MAAMyO,mBAAmBnD,IAChEsB,aAAc,SAACpB,EAAKmB,GAAgB,EAAK3M,MAAM0O,cAAclD,EAAKmB,IAClEE,gBAAiB,SAAC1H,GAAY,EAAKnF,MAAM2O,iBAAiBxJ,OAG1E,yBAAK1E,UAAU,OACX,kBAAC,EAAD,CAAeF,GAAG,MAAM8M,cAAe,SAACuB,GAAD,OAAU,EAAK5O,MAAM6O,eAAeD,IAAOtB,cAAe,SAACL,GAAD,OAAU,EAAKjN,MAAM8O,eAAe7B,OAEzI,yBAAKxM,UAAU,OACX,kBAAC,EAAD,CAAgBF,GAAG,MAAM8M,cAAe,SAACuB,GAAD,OAAU,EAAK5O,MAAM+O,eAAeH,IAAOtB,cAAe,SAACL,GAAD,OAAU,EAAKjN,MAAMgP,eAAe/B,OAE1I,yBAAKxM,UAAU,QACX,kBAAC,EAAD,CAAMF,GAAG,OAAO0N,gBAAiB,SAAClC,EAAGY,GAAgB,EAAK3M,MAAMiO,gBAAgBlC,EAAGY,IAC7EuB,eAAgB,SAACnC,EAAGY,GAAgB,EAAK3M,MAAMkO,eAAenC,EAAGY,IACjEwB,iBAAkB,SAACpC,EAAGY,GAAgB,EAAK3M,MAAMmO,iBAAiBpC,EAAGY,IACrEyB,iBAAkB,SAACrC,EAAGY,GAAgB,EAAK3M,MAAMoO,iBAAiBrC,EAAGY,Y,GApCrDxL,a,iBCErB8N,E,YAEjB,WAAYjP,GAAQ,IAAD,8BACf,4CAAMA,KAEDoH,aAAe,CAChB8H,cAAe,EACfnL,WAAW,EACXE,KAAM,EACNN,IAAK,IACL6E,SAAU,CAAE,GAAG,GAAG,GAAG,IACrB2G,KAAM,CACF3D,IAAK,GACLF,SAAU,OACVnG,OAAQ,GAEZiK,KAAM,CACF5D,IAAK,GACLF,SAAU,WACVnG,OAAQ,GAEZkK,IAAK,CACDpD,KAAM,UACN2C,KAAM,IACN3B,KAAM,EACNqC,OAAQ,GAEZC,IAAK,CACDtD,KAAM,WACN2C,KAAM,EACN3B,KAAM,EACNqC,OAAQ,GAEZE,KAAM,CACFC,WAAY,GACZC,UAAW,IACXC,aAAc,GACdC,YAAa,GACbC,SAAU,GACVC,UAAW,IACXC,aAAc,OAElBC,IAAK,aAGT,EAAK/P,MAAQgQ,OAAOC,OAAO,GAAI,EAAK9I,cAEpC,EAAKtD,WAAa,EAAKA,WAAW1D,KAAhB,gBAClB,EAAK+P,SAAW,EAAKA,SAAS/P,KAAd,gBAChB,EAAKuL,UAAY,EAAKA,UAAUvL,KAAf,gBACjB,EAAKgQ,aAAe,EAAKA,aAAahQ,KAAlB,gBACpB,EAAKiQ,kBAAoB,EAAKA,kBAAkBjQ,KAAvB,gBACzB,EAAKkQ,4BAA8B,EAAKA,4BAA4BlQ,KAAjC,gBACnC,EAAKmQ,gBAAkB,EAAKA,gBAAgBnQ,KAArB,gBACvB,EAAKoQ,mBAAqB,EAAKA,mBAAmBpQ,KAAxB,gBAC1B,EAAKqQ,mBAAqB,EAAKA,mBAAmBrQ,KAAxB,gBAC1B,EAAKsQ,SAAW,EAAKA,SAAStQ,KAAd,gBAChB,EAAKyN,oBAAsB,EAAKA,oBAAoBzN,KAAzB,gBAC3B,EAAK0N,mBAAqB,EAAKA,mBAAmB1N,KAAxB,gBAC1B,EAAK4N,qBAAuB,EAAKA,qBAAqB5N,KAA1B,gBAC5B,EAAK2N,qBAAuB,EAAKA,qBAAqB3N,KAA1B,gBA1Db,E,iFA6DE,IAAD,OAChBO,KAAK4P,kBAEL,IAAI/I,EAAaG,KAAKC,MAAMH,eAAeC,QAAQ,UAChDF,GAAcA,IAAe7G,KAAKyG,aACjCzG,KAAKG,SAAS0G,GAAY,WACtB,EAAK6I,kBAAkB9J,SAASoK,cAAT,WAA2B,EAAK1Q,MAAM+P,OAAQ,MAGzEzJ,SAASoK,cAAc,cAAclK,UAAUC,IAAI,kB,wCAMvD,IAAMkK,EAAU,CACZC,YAAa,WACbC,WAAY,OAGZ,uBAAwBC,OACxBpQ,KAAKqQ,aAAe,IAAID,OAAOE,mBAAmBL,GAElDjQ,KAAKqQ,aAAe,IAAID,OAAOG,aAAaN,GAEhDjQ,KAAKwQ,SAAWxQ,KAAKqQ,aAAaI,aAClCzQ,KAAK0Q,SAAW1Q,KAAKqQ,aAAaI,aAElCzQ,KAAK2Q,KAAO3Q,KAAKqQ,aAAaO,qBAC9B5Q,KAAK2Q,KAAKrF,KAAOtL,KAAKV,MAAMsP,IAAItD,KAChCtL,KAAK2Q,KAAKhC,OAAOkC,eAAe7Q,KAAKV,MAAMsP,IAAID,OAAQ3O,KAAKqQ,aAAaS,aACzE9Q,KAAK+Q,KAAO/Q,KAAKqQ,aAAaO,qBAC9B5Q,KAAK+Q,KAAKzF,KAAOtL,KAAKV,MAAMsP,IAAItD,KAChCtL,KAAK+Q,KAAKpC,OAAOkC,eAAe7Q,KAAKV,MAAMsP,IAAID,OAAQ3O,KAAKqQ,aAAaS,aAEzE9Q,KAAKgR,KAAOhR,KAAKqQ,aAAaO,qBAC9B5Q,KAAKgR,KAAK1F,KAAOtL,KAAKV,MAAMoP,IAAIpD,KAChCtL,KAAKgR,KAAKrC,OAAOkC,eAAe7Q,KAAKV,MAAMoP,IAAIC,OAAQ3O,KAAKqQ,aAAaS,aACzE9Q,KAAKiR,KAAOjR,KAAKqQ,aAAaO,qBAC9B5Q,KAAKiR,KAAK3F,KAAOtL,KAAKV,MAAMoP,IAAIpD,KAChCtL,KAAKiR,KAAKtC,OAAOkC,eAAe7Q,KAAKV,MAAMoP,IAAIC,OAAQ3O,KAAKqQ,aAAaS,aAEzE9Q,KAAK6O,KAAO,IAAIqC,IAAalR,KAAKV,MAAMuP,MAExC7O,KAAK2Q,KAAKpM,UAAUsM,eAAe7Q,KAAKV,MAAMsP,IAAIX,KAAMjO,KAAKqQ,aAAaS,aAC1E9Q,KAAK2Q,KAAKQ,EAAEnQ,MAAQhB,KAAKV,MAAMsP,IAAItC,KACnCtM,KAAK+Q,KAAKxM,UAAUsM,eAAe7Q,KAAKV,MAAMsP,IAAIX,KAAMjO,KAAKqQ,aAAaS,aAC1E9Q,KAAK+Q,KAAKI,EAAEnQ,MAAQhB,KAAKV,MAAMsP,IAAItC,KAEnCtM,KAAKgR,KAAKzM,UAAUsM,eAAe7Q,KAAKV,MAAMoP,IAAIT,KAAMjO,KAAKqQ,aAAaS,aAC1E9Q,KAAKgR,KAAKG,EAAEnQ,MAAQhB,KAAKV,MAAMoP,IAAIpC,KACnCtM,KAAKiR,KAAK1M,UAAUsM,eAAe7Q,KAAKV,MAAMoP,IAAIT,KAAMjO,KAAKqQ,aAAaS,aAC1E9Q,KAAKiR,KAAKE,EAAEnQ,MAAQhB,KAAKV,MAAMoP,IAAIpC,KAEnCtM,KAAKwQ,SAASY,KAAKpQ,MAAQhB,KAAKV,MAAMkP,KAAK3D,IAC3C7K,KAAK0Q,SAASU,KAAKpQ,MAAQhB,KAAKV,MAAMmP,KAAK5D,IAE3C7K,KAAKqR,OAASrR,KAAKqQ,aAAaiB,oBAAoB,GAEpDtR,KAAKwQ,SAASe,QAAQvR,KAAKqR,OAAQ,EAAE,GACrCrR,KAAK0Q,SAASa,QAAQvR,KAAKqR,OAAQ,EAAE,GACrCrR,KAAKwQ,SAASe,QAAQvR,KAAKqR,OAAQ,EAAE,GACrCrR,KAAK0Q,SAASa,QAAQvR,KAAKqR,OAAQ,EAAE,GAErCrR,KAAKqR,OAAOE,QAAQvR,KAAKqQ,aAAamB,e,6CAItCxR,KAAKgL,UAAUhL,KAAKV,S,gCAGdA,GACN,GAAGA,IAAUU,KAAKyG,aAAc,CAC5B,IAAIS,EAAYF,KAAKG,UAAU7H,GAC/BwH,eAAeM,QAAQ,QAASF,M,mCAI3BtC,EAAStB,GAClB,IAAIoD,EAAQ1G,KAAKV,MAAMuI,SAASjD,EAAU,GAAGtB,GAC7C,GAAGoD,EAAO,CAEN,IAAI+K,EAASzR,KAAKqQ,aAAaqB,mBAC/BD,EAAOnG,KAAOtL,KAAKV,MAAMkP,KAAK7D,SAE9B8G,EAAOF,QAAQvR,KAAK2Q,MACpB3Q,KAAK2Q,KAAKY,QAAQvR,KAAKgR,MACvBhR,KAAKgR,KAAKO,QAAQvR,KAAKwQ,UAEvB,IAAImB,EAAS3R,KAAKqQ,aAAaqB,mBAE/BC,EAAOrG,KAAOtL,KAAKV,MAAMmP,KAAK9D,SAC9BgH,EAAOJ,QAAQvR,KAAK+Q,MACpB/Q,KAAK+Q,KAAKQ,QAAQvR,KAAKiR,MACvBjR,KAAKiR,KAAKM,QAAQvR,KAAK0Q,UAEvB,IAAIkB,EAAW7N,EAAa8N,oBAAoBnL,GAIhD,OAHA+K,EAAOlN,UAAUsM,eAAe9M,EAAa+N,cAAcF,EAAU5R,KAAKV,MAAMkP,KAAKhK,QAASxE,KAAKqQ,aAAaS,aAChHa,EAAOpN,UAAUsM,eAAe9M,EAAa+N,cAAcF,EAAU5R,KAAKV,MAAMmP,KAAKjK,QAASxE,KAAKqQ,aAAaS,aAEzG,CAACW,EAAQE,GAGpB,OAAO,O,+BAGFI,EAAQC,GACb,GAAGD,EAAQ,CAEP,IAAI7C,EAAWtM,EAAUqP,OAAOjS,KAAKV,MAAM0D,KAEvCkP,EAAalS,KAAK6O,KAAKsD,QACvBC,EAAapS,KAAK6O,KAAKsD,QAE3BD,EAAW/C,UAAYnP,KAAKV,MAAMkP,KAAK3D,IACvCqH,EAAWhD,SAAWA,EAEtBkD,EAAWjD,UAAYnP,KAAKV,MAAMmP,KAAK5D,IACvCuH,EAAWlD,SAAWA,EAEtBgD,EAAWG,QAAQrS,KAAKwQ,SAASY,KAAMY,GACvCI,EAAWC,QAAQrS,KAAK0Q,SAASU,KAAMY,GAEvCD,EAAO,GAAGO,MAAMN,GAChBD,EAAO,GAAGO,MAAMN,GAEhBhS,KAAKwQ,SAASY,KAAKmB,sBAAsBP,GACzChS,KAAK0Q,SAASU,KAAKmB,sBAAsBP,GAEzCE,EAAWG,QAAQrS,KAAKwQ,SAASY,KAAMY,GACvCI,EAAWC,QAAQrS,KAAK0Q,SAASU,KAAMY,GAEvCD,EAAO,GAAGS,KAAKR,EAAOE,EAAWO,SAAWvD,GAC5C6C,EAAO,GAAGS,KAAKR,EAAOI,EAAWK,SAAWvD,M,+BAK3C5L,GACL,IAEI,IAAIoP,EAAO1S,KAAKqQ,aAAaS,YAGzB6B,GAFkB/P,EAAUqP,OAAOjS,KAAKV,MAAM0D,KAEnChD,KAAKyP,aAAa,EAAGnM,IAChCsP,EAAW5S,KAAKyP,aAAa,EAAGnM,GAChCuP,EAAW7S,KAAKyP,aAAa,EAAGnM,GAChCwP,EAAW9S,KAAKyP,aAAa,EAAGnM,GAEpCtD,KAAK+P,SAAS4C,EAAUD,GACxB1S,KAAK+P,SAAS6C,EAAUF,GACxB1S,KAAK+P,SAAS8C,EAAUH,GACxB1S,KAAK+P,SAAS+C,EAAUJ,GAI3B,MAAOnR,GACJwR,QAAQC,IAAIzR,M,wCAIFmF,GACd,IAAIxG,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAAS2H,SAAWnB,EACpB1G,KAAKG,SAASD,K,iCAGPoD,GACP,IAAIpD,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASoD,KAAOA,EAChBtD,KAAKG,SAASD,GAAU,eAIxBF,KAAKwP,SAASlM,K,6CAGKqH,GACnB,IAAIzK,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASsO,KAAK7D,SAAWA,EACzB3K,KAAKG,SAASD,K,wCAGA2K,EAAKmB,GAGnB,GAFAhM,KAAKwQ,SAASY,KAAKpQ,MAAQ6J,EAExBmB,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASsO,KAAK3D,IAAMA,EACpB7K,KAAKG,SAASD,M,2CAIDsE,GACjB,IAAItE,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASsO,KAAKhK,OAASA,EACvBxE,KAAKG,SAASD,K,6CAGKyK,GACnB,IAAIzK,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASuO,KAAK9D,SAAWA,EACzB3K,KAAKG,SAASD,K,wCAGA2K,EAAKmB,GAGnB,GAFAhM,KAAK0Q,SAASU,KAAKpQ,MAAQ6J,EAExBmB,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASuO,KAAK5D,IAAMA,EACpB7K,KAAKG,SAASD,M,2CAIDsE,GACjB,IAAItE,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASuO,KAAKjK,OAASA,EACvBxE,KAAKG,SAASD,K,yCAGC+N,EAAMjC,GAIrB,GAHAhM,KAAK2Q,KAAKpM,UAAUsM,eAAe5C,EAAMjO,KAAKqQ,aAAaS,aAC3D9Q,KAAK+Q,KAAKxM,UAAUsM,eAAe5C,EAAMjO,KAAKqQ,aAAaS,aAExD9E,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAAS0O,IAAIX,KAAOA,EACpBjO,KAAKG,SAASD,M,yCAIHoM,EAAMN,GAIrB,GAHAhM,KAAK2Q,KAAKQ,EAAEN,eAAevE,EAAMtM,KAAKqQ,aAAaS,aACnD9Q,KAAK+Q,KAAKI,EAAEN,eAAevE,EAAMtM,KAAKqQ,aAAaS,aAEhD9E,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAAS0O,IAAItC,KAAOA,EACpBtM,KAAKG,SAASD,M,yCAIH+N,EAAMjC,GAIrB,GAHAhM,KAAKgR,KAAKzM,UAAUsM,eAAe5C,EAAMjO,KAAKqQ,aAAaS,aAC3D9Q,KAAKiR,KAAK1M,UAAUsM,eAAe5C,EAAMjO,KAAKqQ,aAAaS,aAExD9E,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASwO,IAAIT,KAAOA,EACpBjO,KAAKG,SAASD,M,yCAIHoM,EAAMN,GAIrB,GAHAhM,KAAKgR,KAAKG,EAAEN,eAAevE,EAAMtM,KAAKqQ,aAAaS,aACnD9Q,KAAKiR,KAAKE,EAAEN,eAAevE,EAAMtM,KAAKqQ,aAAaS,aAEhD9E,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASwO,IAAIpC,KAAOA,EACpBtM,KAAKG,SAASD,M,gFAQJ+S,EAASC,GAGvB,GAFAD,EAAQnN,UAAUC,IAAI,iBAElBmN,EAAY,CACZ,IAAIhT,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAASmP,IAAM4D,EAAQnN,UAAU,GACjC9F,KAAKG,SAASD,GAEdF,KAAKgL,UAAU9K,M,kDAIKkD,GACpBA,GACApD,KAAKG,SAAS,CACVmD,KAAM,IAIdtD,KAAKG,SAAS,CACViD,UAAWA,M,0CAICpC,EAAOgL,GAGvB,GAFAhM,KAAK6O,KAAKC,WAAa9N,EAEpBgL,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAAS2O,KAAKC,WAAa9N,EAC3BhB,KAAKG,SAASD,M,yCAIHc,EAAOgL,GAGtB,GAFAhM,KAAK6O,KAAKE,UAAY/N,EAEnBgL,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAAS2O,KAAKE,UAAY/N,EAC1BhB,KAAKG,SAASD,M,2CAIDc,EAAOgL,GAGxB,GAFAhM,KAAK6O,KAAKsE,YAAcnS,EAErBgL,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAAS2O,KAAKsE,YAAcnS,EAC5BhB,KAAKG,SAASD,M,2CAIDc,EAAOgL,GAGxB,GAFAhM,KAAK6O,KAAKI,YAAcjO,EAErBgL,EAAY,CACX,IAAI9L,EAAWoP,OAAOC,OAAO,GAAIvP,KAAKV,OACtCY,EAAS2O,KAAKI,YAAcjO,EAC5BhB,KAAKG,SAASD,M,uCAIJ,IAAD,OACb,OACI,yBAAKJ,UAAU,WACX,kBAAC,EAAD,CAAc6N,mBAAoB,SAAChD,GAAc,EAAKyI,uBAAuBzI,IAC/DiD,cAAe,SAAC/C,EAAKmB,GAAgB,EAAKqH,kBAAkBxI,EAAKmB,IACjE6B,iBAAkB,SAACrJ,GAAY,EAAK8O,qBAAqB9O,IACzDsJ,mBAAoB,SAACnD,GAAc,EAAK4I,uBAAuB5I,IAC/DoD,cAAe,SAAClD,EAAKmB,GAAgB,EAAKwH,kBAAkB3I,EAAKmB,IACjEgC,iBAAkB,SAACxJ,GAAY,EAAKiP,qBAAqBjP,IACzD4J,eAAgB,SAACH,EAAMjC,GAAP,OAAsB,EAAK6D,mBAAmB5B,EAAMjC,IACpEqC,eAAgB,SAAC/B,EAAMN,GAAP,OAAsB,EAAK8D,mBAAmBxD,EAAMN,IACpEkC,eAAgB,SAACD,EAAMjC,GAAP,OAAsB,EAAK0H,mBAAmBzF,EAAMjC,IACpEmC,eAAgB,SAAC7B,EAAMN,GAAP,OAAsB,EAAK2H,mBAAmBrH,EAAMN,IACpEsB,gBAAiB,SAAClC,EAAGY,GAAgB,EAAKkB,oBAAoB9B,EAAGY,IACjEuB,eAAgB,SAACnC,EAAGY,GAAgB,EAAKmB,mBAAmB/B,EAAGY,IAC/DwB,iBAAkB,SAACpC,EAAGY,GAAgB,EAAKqB,qBAAqBjC,EAAGY,IACnEyB,iBAAkB,SAACrC,EAAGY,GAAgB,EAAKoB,qBAAqBhC,EAAGY,S,wCAM1E,IAAD,OACd,OACI,yBAAKlM,UAAU,WACf,kBAAC,EAAD,CAAiB8T,gBAAiB5T,KAAKV,MAAMuI,SAAUvE,KAAMtD,KAAKV,MAAMgE,KAAMC,MAAM,IAAIH,UAAWpD,KAAKV,MAAM8D,UAAWsE,cAAe,SAAChB,GAAS,EAAKmN,kBAAkBnN,S,+BAKvK,IAEFoN,EAFC,OAGL,OAAO9T,KAAKV,MAAM+P,KACd,IAAK,YACDyE,EAAU9T,KAAK+T,kBACf,MACJ,IAAK,WACDD,EAAU9T,KAAKgU,iBACf,MACJ,QACIF,EAAU9T,KAAK+T,kBAIvB,OACI,yBAAKjU,UAAU,WACX,kBAAC,EAAD,CAAWmU,SAAU,WAAK,EAAKC,gBAAiB3Q,MAAO,EAAGM,OAAQ,SAACP,GAAU,EAAKH,WAAWG,IAAQM,iBAAkB,SAACR,GAAa,EAAKuM,4BAA4BvM,MACtK,yBAAKtD,UAAU,YACX,yBAAKqU,IAAKC,OAEd,kBAAC,EAAD,CAAK7J,SAAS,YAAYC,MAAM,YAAYH,cAAe,SAAC4I,GAAW,EAAKvD,kBAAkBuD,MAC9F,kBAAC,EAAD,CAAK1I,SAAS,WAAWC,MAAM,WAAWH,cAAe,SAAC4I,GAAW,EAAKvD,kBAAkBuD,MAC3Fa,O,GAjckBtT,aCC7B6T,EAAc1L,QACW,cAA7ByH,OAAOkE,SAASC,UAEe,UAA7BnE,OAAOkE,SAASC,UAEhBnE,OAAOkE,SAASC,SAASC,MACvB,2DA6BN,SAASC,EAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTI,MAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB3V,QACfqV,UAAUC,cAAcQ,WAK1BrC,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,4CAMrBqC,OAAM,SAAAC,GACLvC,QAAQuC,MAAM,4CAA6CA,MChEjEC,IAASC,OAAO,kBAAC,EAAD,MAAW5P,SAASC,eAAe,SDcpC,WACb,GAA6C,kBAAmB8O,UAAW,CAGzE,GADkB,IAAIc,IAAIC,GAAwBtF,OAAOkE,UAC3CqB,SAAWvF,OAAOkE,SAASqB,OAIvC,OAGFvF,OAAOwF,iBAAiB,QAAQ,WAC9B,IAAMlB,EAAK,UAAMgB,GAAN,sBAENrB,EAwCX,SAAiCK,GAE/BmB,MAAMnB,GACHI,MAAK,SAAAgB,GAGkB,MAApBA,EAASC,SACuD,IAAhED,EAASE,QAAQC,IAAI,gBAAgB7U,QAAQ,cAG7CuT,UAAUC,cAAcsB,MAAMpB,MAAK,SAAAC,GACjCA,EAAaoB,aAAarB,MAAK,WAC7B1E,OAAOkE,SAAS8B,eAKpB3B,EAAgBC,MAGnBW,OAAM,WACLtC,QAAQC,IACN,oEAzDAqD,CAAwB3B,GAHxBD,EAAgBC,OC7BxB4B,K","file":"static/js/main.c4644a8d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.222f4c02.svg\";","import React, {Component} from 'react';\nimport $ from 'jquery';\nimport 'font-awesome/css/font-awesome.min.css'\nimport 'jquery-knob';\n\nexport default class TransportButton extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isStarted: false\n        };\n\n        this.handlePlayClicked = this.handlePlayClicked.bind(this);\n        this.handleStopClicked = this.handleStopClicked.bind(this);\n        this.toggleButtonState = this.toggleButtonState.bind(this);\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return (\n            <div>\n                    <a id=\"playButton\" href=\"#\" className=\"transportButton playButton\" onClick={this.handlePlayClicked}>\n                            <i id=\"playButtonIcon\" className=\"fa fa-play\"/>\n                    </a>\n                    <a id=\"stopButton\" href=\"#\" className=\"transportButton stopButton\" onClick={this.handleStopClicked}>\n                            <i id=\"stopButtonIcon\" className=\"fa fa-stop\"/>\n                    </a>\n            </div>\n        );\n    }\n\n    handlePlayClicked() {\n        let newToggleState = !this.state.isStarted;\n\n        this.toggleButtonState(newToggleState);\n\n        let newState = {\n            isStarted: newToggleState\n        }\n        this.setState(newState);\n\n        this.props.onTransportToggle(newToggleState);\n    }\n\n    handleStopClicked() {\n        let newToggleState = false;\n\n        this.toggleButtonState(newToggleState);\n\n        let newState = {\n            isStarted: newToggleState\n        }\n        this.setState(newState);\n\n        this.props.onTransportToggle(newToggleState);\n        this.props.onStop();\n    }\n\n    toggleButtonState(isStarted) {\n        $('#playButton').toggleClass('playButton', !isStarted);\n        $('#playButton').toggleClass('pauseButton', isStarted);\n        $('#playButtonIcon').toggleClass('fa-play', !isStarted);\n        $('#playButtonIcon').toggleClass('fa-pause', isStarted);\n    }\n\n}","import React, { Component } from 'react';\nimport 'jquery-knob';\n\nexport default class Stepper extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = this.getInitialState();\n\n        this.leftClicked = this.leftClicked.bind(this);\n        this.rightClicked = this.rightClicked.bind(this);\n        this.hasItems = this.hasItems.bind(this);\n        this.canStepLeft = this.canStepLeft.bind(this);\n        this.canStepRight = this.canStepRight.bind(this);\n        this.getInitialState = this.getInitialState.bind(this);\n    }\n\n    getInitialState() {\n        let value = this.props.default;\n        let itemIndex = 0;\n\n        if(!!this.props.items) {\n            itemIndex = this.props.items.indexOf(value);\n        }\n\n        return {\n            value: value,\n            itemIndex: itemIndex,\n            items: this.props.items,\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.default !== this.props.default) {\n            this.setState({\n                value: nextProps.default,\n            });\n\n            if(this.hasItems()) {\n                let newIndex = this.props.items.indexOf(nextProps.default);\n                this.setState({\n                    itemIndex: newIndex,\n                })\n            }\n        }\n    }\n\n    hasItems() {\n        return !!(this.state.items);\n    }\n\n    leftClicked(e) {\n        if(e) {\n            e.preventDefault();\n        }\n\n        if(this.hasItems()) {\n            if(this.canStepLeft()) {\n                let idx = (this.state.itemIndex - 1);\n                let val = this.state.items[idx];\n                this.input.value = val;\n\n                this.setState({\n                    itemIndex: idx,\n                    value: val,\n                });\n\n                if(e) {\n                    this.props.onChange(val);\n                }\n            }\n        } else {\n            if(this.canStepLeft()) {\n                let val = parseInt(this.state.value);\n                val = val - 1;\n                this.input.value = val;\n\n                this.setState({\n                    value: val,\n                });\n\n                if(e) {\n                    this.props.onChange(val);\n                }\n            }\n        }\n    }\n\n    rightClicked(e) {\n        if(e) {\n            e.preventDefault();\n        }\n\n        if(this.hasItems()) {\n            if(this.canStepRight()) {\n                let idx = this.state.itemIndex + 1;\n                let val = this.state.items[idx];\n                this.input.value = val;\n\n                this.setState({\n                    itemIndex: idx,\n                    value: val,\n                });\n\n                if(e) {\n                    this.props.onChange(val);\n                }\n            }\n        } else {\n            if(this.canStepRight()) {\n                let val = parseInt(this.state.value);\n                val = val + 1;\n                this.input.value = val;\n\n                this.setState({\n                    value: val,\n                });\n\n                if(e) {\n                    this.props.onChange(val);\n                }\n            }\n        }\n    }\n\n    render() {\n\n        let leftClasses = this.canStepLeft() ? 'stepButton' : 'stepButton stepButton_disabled';\n        let rightClasses = this.canStepRight() ? 'stepButton': 'stepButton stepButton_disabled';\n\n        return (\n            <div className=\"stepper\">\n                <a href=\"#\" onClick={(e) => {this.leftClicked(e)}}>\n                    <svg className=\"\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 29.38 33.62\">\n                        <g id=\"Layer_2\">\n                            <g id=\"appbar\">\n                                <g id=\"Transport\">\n                                    <g id=\"Tempo_Stepper\">\n                                        <path id=\"leftStep\" className={leftClasses}\n                                              d=\"M.5,17.68,27.88,33.48a1,1,0,0,0,1.5-.87V1a1,1,0,0,0-1.5-.87L.5,15.94A1,1,0,0,0,.5,17.68Z\"/>\n                                    </g>\n                                </g>\n                            </g>\n                        </g>\n                    </svg>\n                </a>\n                <input className=\"stepInput\" value={this.state.value} ref={(input) => this.input = input} readOnly/>\n                <a href=\"#\" onMouseDown={this.onDown} onMouseUp={this.onUp} onClick={(e) => {this.rightClicked(e)}}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 29.38 33.62\">\n                        <g>\n                            <g>\n                                <g>\n                                    <g>\n                                        <path id=\"rightStep\" className={rightClasses}\n                                              d=\"M28.88,17.68,1.5,33.48A1,1,0,0,1,0,32.62V1A1,1,0,0,1,1.5.14L28.88,15.94A1,1,0,0,1,28.88,17.68Z\"/>\n                                    </g>\n                                </g>\n                            </g>\n                        </g>\n                    </svg>\n                </a>\n            </div>\n        );\n    }\n\n    canStepRight() {\n        return this.hasItems() ? this.state.itemIndex < this.state.items.length - 1 : parseInt(this.state.value) < parseInt(this.props.max);\n    }\n\n    canStepLeft() {\n        return this.hasItems() ? this.state.itemIndex > 0 : parseInt(this.state.value) > parseInt(this.props.min);\n    }\n}","import React, { Component } from 'react';\nimport 'font-awesome/css/font-awesome.min.css'\nimport 'jquery-knob';\nimport TransportButton from \"./TransportButton.jsx\";\nimport * as Timer from 'audio-context-timers';\nimport Stepper from \"./Stepper\";\n\nexport default class Transport extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            intervalId: null,\n            isRunning: false,\n            step: 0,\n            bpm: 180,\n            steps: this.props.steps ? this.props.steps : 16,\n        };\n\n        this.handleTick = this.handleTick.bind(this);\n        this.handleStop = this.handleStop.bind(this);\n        this.incrementStep = this.incrementStep.bind(this);\n        this.handleRunningChange = this.handleRunningChange.bind(this);\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return (\n            <div className=\"transport\">\n                <TransportButton onTransportToggle={this.handleTransportToggle} onStop={this.handleStop}/>\n                <div className=\"tempoBox\">\n                    <span>Tempo</span><Stepper default={this.state.bpm} min={1} max={620} onChange={(newTempo) => {this.handleTempoChange(newTempo)}}/>\n                </div>\n            </div>\n        );\n    }\n\n    handleTempoChange(bpm) {\n\n        this.setState({\n            bpm: bpm,\n        });\n\n        let sequenceTime = Transport.bpmToMs(bpm);\n\n        if(this.state.intervalId) {\n            Timer.clearInterval(this.state.intervalId);\n            let intervalId = Timer.setInterval(() => {\n                this.handleTick();\n            }, sequenceTime);\n\n            this.setState({\n                intervalId: intervalId\n            })\n        }\n    }\n\n    handleStop() {\n        this.handleTransportToggle(false);\n        this.handleRunningChange(false);\n        this.setState({\n            isRunning: false,\n            step: 0,\n        });\n    }\n\n    handleTransportToggle = (isStarted) => {\n        let sequenceTime = Transport.bpmToMs(this.state.bpm);\n\n        if(isStarted) {\n            let intervalId = Timer.setInterval(() => {\n                this.handleTick();\n            }, sequenceTime);\n\n            this.setState({\n                intervalId: intervalId\n            });\n        } else {\n            if(this.state.intervalId !== null) {\n                Timer.clearInterval(this.state.intervalId);\n\n                this.setState({\n                    intervalId: null,\n                });\n            }\n        }\n\n        let newState = {\n            isRunning: true,\n        };\n        this.setState(newState);\n\n        this.handleRunningChange(true);\n    };\n\n    handleRunningChange(isRunning) {\n        this.props.onRunningChanged(isRunning);\n    }\n\n    static bpmToMs(bpm) {\n        return 60000 / bpm / 2;\n    }\n\n    static msToBpm(ms) {\n        return 60000 / ms;\n    }\n\n    static bpmToS(bpm) {\n        return Transport.bpmToMs(bpm) / 1000;\n    }\n\n\n    handleTick() {\n        if(this.props.onTick) {\n            this.props.onTick(this.state.step)\n        }\n        this.incrementStep();\n    }\n\n    incrementStep() {\n        let step = (this.state.step + 1) % this.state.steps;\n\n        let newState = {\n            step: step,\n        };\n        this.setState(newState);\n    }\n}","export default class Calculations {\n    static get C0() {\n        return 16.35;\n    }\n\n    static get A() {\n        return 1.059463094359;\n    }\n\n    static textNoteToFrequency(note) {\n        switch(note) {\n            case 'C':\n                return Calculations.C0;\n            case 'C#':\n                return Calculations.noteToFrequency(1);\n            case 'D':\n                return Calculations.noteToFrequency(2);\n            case 'D#':\n                return Calculations.noteToFrequency(3);\n            case 'E':\n                return Calculations.noteToFrequency(4);\n            case 'F':\n                return Calculations.noteToFrequency(5);\n            case 'F#':\n                return Calculations.noteToFrequency(6);\n            case 'G':\n                return Calculations.noteToFrequency(7);\n            case 'G#':\n                return Calculations.noteToFrequency(8);\n            case 'A':\n                return Calculations.noteToFrequency(9);\n            case 'A#':\n                return Calculations.noteToFrequency(10);\n            case 'B':\n                return Calculations.noteToFrequency(11);\n        }\n    }\n\n    static noteToFrequency(hsAboveC0) {\n        return Calculations.C0 * Math.pow(Calculations.A, hsAboveC0);\n    }\n\n    static shiftToOctave(frequency, octave) {\n        for(let i = 0; i < octave; ++i) {\n            frequency *= 2;\n        }\n\n        return frequency;\n    }\n}","import React, { Component } from 'react';\nimport './style/EuclidSequencer.css';\nimport 'jquery-knob';\n\nexport default class EuclidRing extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n        };\n\n        this.getRing = this.getRing.bind(this);\n    }\n\n    getRing(channel) {\n        switch(channel) {\n            case '1':\n                return(\n                    <g>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"0-1\" className=\"oddRing\" d=\"M319.9,187.9l-19.2,46.2c10.4,4.9,18.8,13.4,23.8,23.8l46.2-19.2C360.7,216.1,342.5,197.9,319.9,187.9z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"0-2\" className=\"oddRing\" d=\"M372.7,243.4l-46.2,19.2c1.9,5.2,2.9,10.9,2.9,16.8s-1,11.5-2.9,16.8l46.2,19.2c4.3-11.2,6.7-23.3,6.7-36\n\t\t\t\t                    S377,254.5,372.7,243.4z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"0-4\" className=\"oddRing\" d=\"M296.1,326.4c-5.2,1.9-10.9,2.9-16.8,2.9c-5.9,0-11.6-1-16.8-2.9l-19.2,46.2c11.2,4.3,23.3,6.7,36,6.7\n\t\t\t\t                    c12.7,0,24.8-2.4,35.9-6.7L296.1,326.4z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"0-7\" className=\"oddRing\" d=\"M238.7,187.9c-22.6,10-40.8,28.2-50.8,50.8l46.2,19.2c4.9-10.4,13.4-18.8,23.8-23.8L238.7,187.9z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"0-6\" className=\"oddRing\" d=\"M186,243.4c-4.3,11.2-6.7,23.3-6.7,36s2.4,24.8,6.7,36l46.2-19.1c-1.9-5.2-2.9-10.9-2.9-16.8\n\t\t\t\t                    s1-11.6,2.9-16.8L186,243.4z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"0-5\" className=\"oddRing\" d=\"M234.1,300.8l-46.2,19.2c10,22.6,28.2,40.8,50.8,50.8l19.1-46.2C247.5,319.6,239.1,311.1,234.1,300.8z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"0-3\" className=\"oddRing\" d=\"M324.5,300.8c-4.9,10.4-13.4,18.8-23.8,23.8l19.1,46.2c22.6-10,40.8-28.2,50.9-50.8L324.5,300.8z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"0-0\" className=\"oddRing\" d=\"M279.3,179.3c-12.7,0-24.8,2.4-36,6.7l19.1,46.2c5.2-1.9,10.9-2.9,16.8-2.9c5.9,0,11.5,1,16.8,2.9l19.1-46.2\n\t\t\t\t                    C304.1,181.7,292,179.3,279.3,179.3z\"/>\n                    </g>\n                );\n            case '2':\n                return(\n                    <g>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"1-1\" className=\"evenRing\" d=\"M342.3,140.4l-19.2,46.2c21.4,10.1,38.8,27.5,48.9,48.9l46.2-19.2C403,182.7,375.9,155.6,342.3,140.4z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"1-2\" className=\"evenRing\" d=\"M422.1,225.6l-46.2,19.2c3.9,10.8,6,22.4,6,34.6s-2.1,23.8-6,34.6l46.2,19.2c6.3-16.7,9.7-34.8,9.7-53.7\n                                    C431.8,260.4,428.4,242.3,422.1,225.6z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"1-4\" className=\"evenRing\" d=\"M313.9,375.8c-10.8,3.9-22.4,6-34.6,6c-12.1,0-23.8-2.1-34.6-6l-19.2,46.2c16.7,6.3,34.8,9.8,53.8,9.8\n                                    c18.9,0,37-3.4,53.7-9.7L313.9,375.8z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"1-7\" className=\"evenRing\" d=\"M216.4,140.4c-33.6,15.3-60.7,42.3-76,76l46.2,19.2c10.1-21.4,27.5-38.7,48.9-48.9L216.4,140.4z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"1-6\" className=\"evenRing\" d=\"M136.6,225.6c-6.3,16.7-9.7,34.8-9.7,53.7c0,18.9,3.4,37,9.7,53.7l46.2-19.1c-3.9-10.8-6-22.4-6-34.6\n                                    s2.1-23.8,6-34.6L136.6,225.6z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"1-5\" className=\"evenRing\" d=\"M186.6,323.1l-46.2,19.2c15.2,33.6,42.3,60.7,76,76l19.2-46.2C214.1,361.9,196.8,344.5,186.6,323.1z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"1-3\" className=\"evenRing\" d=\"M372,323.1c-10.1,21.4-27.5,38.8-48.9,48.9l19.2,46.2c33.6-15.2,60.7-42.4,76-76L372,323.1z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"1-0\" className=\"evenRing\" d=\"M279.3,126.8c-18.9,0-37,3.4-53.7,9.7l19.2,46.2c10.8-3.9,22.4-6,34.6-6c12.1,0,23.8,2.1,34.5,6l19.2-46.2\n                                    C316.3,130.3,298.2,126.8,279.3,126.8z\"/>\n                    </g>\n                );\n            case '3':\n                return(\n                    <g>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"2-6\" className=\"oddRing\" d=\"M123.9,279.3c0,18.4,3.2,36,9.1,52.4l-46.6,19.3c-8.3-22.3-12.8-46.5-12.8-71.7c0-25.2,4.5-49.4,12.8-71.7\n                                    l46.6,19.3C127.1,243.3,123.9,260.9,123.9,279.3z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"2-5\" className=\"oddRing\" d=\"M212.9,419.8l-19.3,46.6c-44.7-20.5-80.9-56.7-101.4-101.4l46.7-19.3C154.2,378.2,180.4,404.5,212.9,419.8z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"2-7\" className=\"oddRing\" d=\"M212.9,138.8c-32.5,15.4-58.7,41.6-74.1,74.1l-46.7-19.3c20.5-44.8,56.7-80.9,101.4-101.4L212.9,138.8z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"2-0\" className=\"oddRing\" d=\"M351,86.3L331.7,133c-16.4-5.9-34-9.1-52.4-9.1c-18.4,0-36,3.2-52.4,9.1l-19.3-46.6\n                                    c22.3-8.3,46.5-12.9,71.7-12.9C304.5,73.5,328.7,78,351,86.3z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"2-4\" className=\"oddRing\" d=\"M351.1,472.3c-22.3,8.3-46.5,12.8-71.7,12.8c-25.3,0-49.4-4.5-71.8-12.9l19.3-46.6c16.4,5.9,34.1,9.1,52.5,9.1\n                                    c18.4,0,36-3.2,52.4-9.1L351.1,472.3z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"2-3\" className=\"oddRing\" d=\"M466.5,365.1C446,409.8,409.8,446,365,466.5l-19.3-46.7c32.5-15.4,58.7-41.6,74.1-74.1L466.5,365.1z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"2-1\" className=\"oddRing\" d=\"M466.5,193.6l-46.7,19.3c-15.4-32.5-41.7-58.8-74.2-74.1L365,92.1C409.8,112.7,445.9,148.8,466.5,193.6z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"2-2\" className=\"oddRing\" d=\"M485.1,279.3c0,25.2-4.5,49.4-12.9,71.7l-46.6-19.3c5.9-16.4,9.1-34,9.1-52.4c0-18.4-3.2-36-9.1-52.4l46.6-19.3\n                                    C480.6,229.9,485.1,254.1,485.1,279.3z\"/>\n                    </g>\n                );\n            case '4':\n                return (\n                    <g>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"3-6\" className=\"evenRing\" d=\"M70.3,279.3c0,24.7,4.3,48.5,12.2,70.5l-62.7,26c-11.2-30-17.3-62.5-17.3-96.5s6.1-66.4,17.3-96.5l62.7,26\n                                    C74.6,230.9,70.3,254.6,70.3,279.3z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"3-5\" className=\"evenRing\" d=\"M190,468.3l-26,62.7c-60.2-27.6-108.8-76.2-136.4-136.4l62.8-26C111,412.3,146.3,447.7,190,468.3z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"3-7\" className=\"evenRing\" d=\"M190,90.3c-43.7,20.7-79,56-99.7,99.7l-62.8-26C55.2,103.8,103.8,55.2,164,27.6L190,90.3z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"3-0\" className=\"evenRing\" d=\"M375.7,19.8l-26,62.7c-22-7.9-45.7-12.2-70.4-12.2c-24.7,0-48.5,4.3-70.5,12.2l-26-62.7\n                                    c30-11.2,62.5-17.3,96.5-17.3C313.2,2.5,345.7,8.6,375.7,19.8z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"3-4\" className=\"evenRing\" d=\"M375.8,538.9c-30,11.2-62.5,17.3-96.5,17.3c-34,0-66.5-6.1-96.6-17.3l26-62.7c22.1,7.9,45.8,12.2,70.6,12.2\n                                    c24.7,0,48.5-4.3,70.5-12.2L375.8,538.9z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"3-3\" className=\"evenRing\" d=\"M531.1,394.7c-27.6,60.2-76.2,108.8-136.4,136.4l-26-62.8c43.7-20.6,79-56,99.7-99.7L531.1,394.7z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"3-1\" className=\"evenRing\" d=\"M531.1,164l-62.8,26c-20.7-43.7-56-79.1-99.7-99.7l26-62.7C454.8,55.2,503.4,103.8,531.1,164z\"/>\n                        <path onClick={(e) => {this.props.onStepClicked(e.target.id)}} id=\"3-2\" className=\"evenRing\" d=\"M556.2,279.3c0,33.9-6.1,66.4-17.3,96.5l-62.7-26c7.9-22,12.2-45.7,12.2-70.5c0-24.7-4.3-48.5-12.2-70.5\n                                    l62.7-26C550.1,212.9,556.2,245.4,556.2,279.3z\"/>\n                    </g>\n                );\n            default:\n                return false;\n        }\n    }\n\n    render() {\n        let ring = this.getRing(this.props.channel);\n        let theClass = this.props.channel === '1' || this.props.channel === '3' ? 'oddRing' : 'evenRing';\n\n        const childrenWithProps = React.Children.map(ring.props.children,\n            (child) => React.cloneElement(child, {\n                className: (child.props.id === `${(this.props.channel - 1)}-${this.props.step}`) && this.props.isRunning ? `${theClass} stepOn` : theClass\n            })\n        );\n\n        return(\n            <g>\n                {childrenWithProps}\n            </g>\n        );\n    }\n\n    componentDidMount() {\n        this.highlightSelectedSteps();\n    }\n\n\n    componentDidUpdate() {\n        this.highlightSelectedSteps();\n    }\n\n    highlightSelectedSteps() {\n        this.props.onsets.forEach((onset, i) => {\n            let id = `${(this.props.channel - 1)}-${i}`;\n            let step = document.getElementById(id);\n\n            if (onset) {\n                step.classList.add('stepActive');\n            } else {\n                step.classList.remove('stepActive');\n            }\n        });\n    }\n}","import React, { Component } from 'react';\nimport './style/EuclidSequencer.css';\nimport 'jquery-knob';\nimport EuclidRing from \"./EuclidRing\";\nimport Stepper from \"./Stepper\";\nimport Euclid from 'euclidean-rhythms';\n\nexport default class Sequencer extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.initNoteMatrix = this.initNoteMatrix.bind(this);\n        this.handleStepClicked = this.handleStepClicked.bind(this);\n        this.handleNoteChange = this.handleNoteChange.bind(this);\n        this.handleOnsetChange = this.handleOnsetChange.bind(this);\n        this.handleOffsetChange = this.handleOffsetChange.bind(this);\n        this.rotate = this.rotate.bind(this);\n\n        this.onsetSteppers = [null, null, null, null];\n\n        this.defaultState = {\n            notes: this.initNoteMatrix(),\n            tonesForTrack: ['C', 'C', 'C', 'C'],\n            offsets: [0,0,0,0]\n        };\n\n        this.state = {\n            notes: this.initNoteMatrix(),\n            tonesForTrack: ['C', 'C', 'C', 'C'],\n            offsets: [0,0,0,0]\n        };\n    }\n\n    componentDidMount() {\n        let savedState = sessionStorage.getItem('EuclidSequencer');\n        savedState = JSON.parse(savedState);\n        if(savedState !== this.defaultState) {\n            this.setState(savedState);\n        }\n    }\n\n    componentWillUnmount() {\n        if(this.state !== this.defaultState) {\n            let stateJson = JSON.stringify(this.state);\n            sessionStorage.setItem('EuclidSequencer', stateJson);\n        }\n    }\n\n    initNoteMatrix() {\n        let notes = [ [],[],[],[], ];\n        for(let i = 0; i < 4; ++i) {\n            for(let j = 0; j < this.props.steps; ++j) {\n                notes[i][j] = null;\n            }\n        }\n        return notes;\n    }\n\n    handleStepClicked(e) {\n        let data = e.split('-');\n        let currentSequence = this.state.notes.slice();\n        if(!currentSequence[data[0]][data[1]]) {\n            currentSequence[data[0]][data[1]] = this.state.tonesForTrack[data[0]];\n\n            if(this.onsetSteppers[data[0]]) {\n                this.onsetSteppers[data[0]].rightClicked(null);\n            }\n        } else {\n            currentSequence[data[0]][data[1]] = null;\n\n            if(this.onsetSteppers[data[0]]) {\n                this.onsetSteppers[data[0]].leftClicked(null);\n            }\n        }\n\n        this.setState({\n            notes: currentSequence\n        });\n\n        this.props.onNewSequence(currentSequence);\n    }\n\n    handleNoteChange(track, note) {\n        let tones = this.state.tonesForTrack.slice();\n        tones[track] = note;\n\n        let sequence = this.state.notes.slice();\n        sequence[track].forEach((oldNote, i) => {\n            if(oldNote) {\n                sequence[track][i] = note;\n            }\n        });\n\n        this.setState({\n            tonesForTrack: tones,\n            notes: sequence\n        });\n\n        this.props.onNewSequence(sequence);\n    }\n\n    handleOnsetChange(track, onsets) {\n        let euclid = Euclid.getPattern(onsets, this.props.steps);\n        euclid = this.rotate(euclid, this.state.offsets[track]);\n\n        let currentNotes = this.state.notes.slice();\n        let note = this.state.tonesForTrack[track];\n\n        euclid.forEach((step, i) => {\n            currentNotes[track][i] = step === 1 ? note : null;\n        });\n\n        this.setState({\n            notes: currentNotes\n        });\n\n        this.props.onNewSequence(currentNotes);\n    }\n\n    handleOffsetChange(track, offset) {\n        let offsets = this.state.offsets.slice();\n        offsets[track] = offset;\n\n        let sequence = this.state.notes.slice();\n        sequence[track] = this.rotate(sequence[track], offset);\n\n        this.setState({\n            notes: sequence,\n            offsets: offsets,\n        });\n\n        this.props.onNewSequence(sequence);\n    }\n\n    rotate(array, n) {\n        let L = array.length;\n        return array.slice(L - n).concat(array.slice(0, L - n));\n    };\n\n    render() {\n\n        let noteValues = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n\n        let selectedOnsets0 = (this.state.notes[0]) ? this.state.notes[0].filter(Boolean).length : 0;\n        let selectedOnsets1 = (this.state.notes[1]) ? this.state.notes[1].filter(Boolean).length : 0;\n        let selectedOnsets2 = (this.state.notes[2]) ? this.state.notes[2].filter(Boolean).length : 0;\n        let selectedOnsets3 = (this.state.notes[3]) ? this.state.notes[3].filter(Boolean).length : 0;\n\n        let initialNote0 = noteValues[noteValues.indexOf(this.state.tonesForTrack[0])];\n        let initialNote1 = noteValues[noteValues.indexOf(this.state.tonesForTrack[1])];\n        let initialNote2 = noteValues[noteValues.indexOf(this.state.tonesForTrack[2])];\n        let initialNote3 = noteValues[noteValues.indexOf(this.state.tonesForTrack[3])];\n\n        let initialOffset0 = this.state.offsets[0];\n        let initialOffset1 = this.state.offsets[1];\n        let initialOffset2 = this.state.offsets[2];\n        let initialOffset3 = this.state.offsets[3];\n\n        return (\n            <div className=\"Euclid\">\n                <div className=\"ring\">\n                    <svg id=\"ring_svg\" version=\"1.1\"\n                         xmlns=\"http://www.w3.org/2000/svg\"\n                         xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                         x=\"0px\"\n                         y=\"0px\"\n                         width=\"558.7px\"\n                         height=\"558.7px\"\n                         viewBox=\"0 0 558.7 558.7\"\n                         xmlSpace=\"preserve\">\n                        <EuclidRing isRunning={this.props.isRunning} channel=\"1\" onsets={this.state.notes[0]} step={this.props.step} onStepClicked={(e) => {this.handleStepClicked(e)}}/>\n                        <EuclidRing isRunning={this.props.isRunning} channel=\"2\" onsets={this.state.notes[1]} step={this.props.step} onStepClicked={(e) => {this.handleStepClicked(e)}}/>\n                        <EuclidRing isRunning={this.props.isRunning} channel=\"3\" onsets={this.state.notes[2]} step={this.props.step} onStepClicked={(e) => {this.handleStepClicked(e)}}/>\n                        <EuclidRing isRunning={this.props.isRunning} channel=\"4\" onsets={this.state.notes[3]} step={this.props.step} onStepClicked={(e) => {this.handleStepClicked(e)}}/>\n                    </svg>\n                </div>\n                <div className=\"divider\">\n                    <div className=\"track\">Track</div>\n                    <div>Note</div>\n                    <div>Onsets</div>\n                    <div>Offset</div>\n\n                    <div className=\"track\">1</div>\n                    <Stepper default={initialNote0} items={noteValues} onChange={(val)=>{this.handleNoteChange(0, val)}}/>\n                    <Stepper ref={(stepper) => {this.onsetSteppers[0] = stepper;}} default={selectedOnsets0} min={0} max={8} onChange={(val) => {this.handleOnsetChange(0, val)}}/>\n                    <Stepper default={initialOffset0} min={0} max={7} onChange={(val) => {this.handleOffsetChange(0, val)}}/>\n\n                    <div className=\"track\">2</div>\n                    <Stepper default={initialNote1} items={noteValues} onChange={(val)=>{this.handleNoteChange(1, val)}}/>\n                    <Stepper ref={(stepper) => {this.onsetSteppers[1] = stepper;}} default={selectedOnsets1} min={0} max={8} onChange={(val) => {this.handleOnsetChange(1, val)}}/>\n                    <Stepper default={initialOffset1} min={0} max={7} onChange={(val) => {this.handleOffsetChange(1, val)}}/>\n\n                    <div className=\"track\">3</div>\n                    <Stepper default={initialNote2} items={noteValues} onChange={(val)=>{this.handleNoteChange(2, val)}}/>\n                    <Stepper ref={(stepper) => {this.onsetSteppers[2] = stepper;}} default={selectedOnsets2} min={0} max={8} onChange={(val) => {this.handleOnsetChange(2, val)}}/>\n                    <Stepper default={initialOffset2} min={0} max={7} onChange={(val) => {this.handleOffsetChange(2, val)}}/>\n\n                    <div className=\"track\">4</div>\n                    <Stepper default={initialNote3} items={noteValues} onChange={(val)=>{this.handleNoteChange(3, val)}}/>\n                    <Stepper ref={(stepper) => {this.onsetSteppers[3] = stepper;}} default={selectedOnsets3} min={0} max={8} onChange={(val) => {this.handleOnsetChange(3, val)}}/>\n                    <Stepper default={initialOffset3} min={0} max={7} onChange={(val) => {this.handleOffsetChange(3, val)}}/>\n                </div>\n            </div>\n        );\n    }\n}","import React, {Component} from 'react';\n\nexport default class Tab extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick(e) {\n        let tabs = document.querySelectorAll('.tab');\n        tabs.forEach((elem)=>{\n            elem.classList.remove('tab_selected');\n        });\n\n        let div = e.target.parentElement;\n        this.props.onTabSelected(div);\n    }\n\n    render() {\n\n        let classes = `tab ${this.props.tabClass}`;\n        return (\n            <div className={classes}><a href=\"#\" onClick={(e)=>{this.handleClick(e)}}>{this.props.title}</a></div>\n        );\n    }\n}","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport 'jquery-knob';\nimport './style/Oscillator.css';\nimport Stepper from \"./Stepper\";\n\nexport default class Oscillator extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            knobId: `volume-${props.id}`,\n            waveform: this.props.defaultWav,\n            mix: this.props.defaultMix,\n            octave: this.props.defaultOctave,\n        };\n\n        this.saveState = this.saveState.bind(this);\n        this.handleWaveChanged = this.handleWaveChanged.bind(this);\n        this.handleMixChange = this.handleMixChange.bind(this);\n    }\n\n    componentDidMount() {\n\n        $(`#${this.state.knobId}`).knob({\n            'change' : (v) => {\n                this.handleMixChange(v, false)\n            },\n            'release' : (v) => {\n                this.handleMixChange(v, true)\n            }\n        });\n\n        let savedState = JSON.parse(sessionStorage.getItem(this.props.id));\n        if(savedState) {\n            this.setState(savedState);\n        }\n\n    }\n\n    componentDidUpdate() {\n        $(`#${this.state.knobId}`).trigger('blur');\n    }\n\n    componentWillUnmount() {\n        this.saveState();\n    }\n\n    saveState() {\n        let state = JSON.stringify(this.state);\n        sessionStorage.setItem(this.props.id, state);\n    }\n\n    render() {\n\n        let waveforms = ['∿', '⊓', '⊿', '∧∧'];\n\n        return (\n            <div className=\"Oscillator\">\n                <div className=\"ttl\">\n                    <h3 className=\"panel_title\">{this.props.id}</h3>\n                </div>\n                <div className=\"wav\">\n                    <p>Waveform</p>\n                    <Stepper items={waveforms} default={this.state.waveform} onChange={(val)=>{this.handleWaveChanged(val)}}/>\n                </div>\n                <div className=\"mix\">\n                    <p>Mix</p>\n                    <input type=\"text\" value={this.state.mix} id={this.state.knobId} className=\"knob\" data-width=\"70\"\n                           data-height=\"70\" data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-max=\"15\" data-angleOffset=\"180\"\n                    />\n                </div>\n                <div className=\"oct\">\n                    <p>Octave</p>\n                    <Stepper min={0} max={6} default={this.state.octave} onChange={(val) => {this.handleOctaveChanged(val)}}/>\n                </div>\n            </div>\n        );\n    }\n\n    handleWaveChanged(val) {\n        let waveform = 'sine';\n\n        switch(val) {\n            case '∿':\n                waveform = 'sine';\n                break;\n            case '⊓':\n                waveform = 'square';\n                break;\n            case '⊿':\n                waveform = 'triangle';\n                break;\n            case '∧∧':\n                waveform = 'sawtooth';\n                break;\n        }\n\n        this.setState({\n            waveform: val,\n        }, ()=>{\n            this.saveState();\n        });\n\n        this.props.onWaveformChanged(waveform);\n    }\n\n    handleMixChange(v, shouldSave) {\n\n        let mix = v/100;\n        this.setState({\n            mix: parseInt(v)\n        }, ()=>{\n            this.saveState()\n        });\n        this.props.onMixChanged(mix, shouldSave);\n    }\n\n    handleOctaveChanged(val) {\n\n        this.setState({\n            octave: val,\n        }, ()=>{\n            this.saveState();\n        });\n        this.props.onOctaveChanged(val)\n    }\n\n}","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport 'jquery-knob';\nimport './style/Filter.css';\n\nexport default class LowpassFilter extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            peakKnobId: `peak-lpf-${this.props.id}`,\n            freqKnobId: `freq-lpf-${this.props.id}`,\n            id : props.id,\n            frequency: 8000,\n            peak: 1,\n        }\n\n        this.handleFreqChanged = this.handleFreqChanged.bind(this);\n        this.handlePeakChanged = this.handlePeakChanged.bind(this);\n        this.saveState = this.saveState.bind(this);\n    }\n\n    componentDidMount() {\n        $('#'+this.state.peakKnobId).knob({\n            'change' : (v) => {\n                this.handlePeakChanged(v, false)\n            },\n            'release' : (v) => {\n                this.handlePeakChanged(v, true)\n            }\n        });\n        $('#'+this.state.freqKnobId).knob({\n            'change' : (v) => {\n                this.handleFreqChanged(v, false)\n            },\n            'release' : (v) => {\n                this.handleFreqChanged(v, true)\n            }\n        });\n\n        let savedState = JSON.parse(sessionStorage.getItem(this.props.id));\n        if(savedState) {\n            this.setState(savedState);\n        }\n    }\n\n    componentDidUpdate() {\n        $('#'+this.state.freqKnobId).trigger('blur');\n        $('#'+this.state.peakKnobId).trigger('blur');\n    }\n\n    componentWillUnmount() {\n        this.saveState();\n    }\n\n    saveState() {\n        let state = JSON.stringify(this.state);\n        sessionStorage.setItem(this.props.id, state);\n    }\n\n    render() {\n        return (\n            <div className=\"Filter\">\n                <div className=\"ttl\">\n                    <h3 className=\"panel_title\">{this.state.id}</h3>\n                </div>\n                <div className=\"freq\">\n                    <p>Freq</p>\n                    <input type=\"text\" value={this.state.frequency} step=\"1\" id={this.state.freqKnobId} className=\"knob\" data-width=\"70\" data-max=\"8000\"\n                           data-min=\"0\" data-height=\"70\"  data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-angleOffset=\"180\"/>\n                </div>\n                <div className=\"peak\">\n                    <p>Peak</p>\n                    <input type=\"text\" value={this.state.peak} id={this.state.peakKnobId} className=\"knob\" data-width=\"50\" data-max=\"25\"\n                           data-height=\"50\"  data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-angleOffset=\"180\"/>\n                </div>\n            </div>\n        );\n    }\n\n    handleFreqChanged(v, shouldSave) {\n        this.setState({\n            frequency: v,\n        });\n        this.props.onFreqChanged(v, shouldSave);\n    }\n\n    handlePeakChanged(v, shouldSave) {\n        this.setState({\n            peak: v,\n        });\n        this.props.onPeakChanged(v, shouldSave);\n    }\n}","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport 'jquery-knob';\nimport './style/Filter.css';\n\nexport default class HighpassFilter extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            peakKnobId: `peak-hpf-${this.props.id}`,\n            freqKnobId: `freq-hpf-${this.props.id}`,\n            id : props.id,\n            frequency: 0,\n            peak: 1,\n        };\n\n        this.handleFreqChanged = this.handleFreqChanged.bind(this);\n        this.handlePeakChanged = this.handlePeakChanged.bind(this);\n        this.saveState = this.saveState.bind(this);\n    }\n\n    componentDidMount() {\n        $('#'+this.state.peakKnobId).knob({\n            'change' : (v) => {\n                this.handlePeakChanged(v, false)\n            },\n            'release' : (v) => {\n                this.handlePeakChanged(v, true)\n            }\n        });\n        $('#'+this.state.freqKnobId).knob({\n            'change' : (v) => {\n                this.handleFreqChanged(v, false)\n            },\n            'release' : (v) => {\n                this.handleFreqChanged(v, true)\n            }\n        });\n\n        let savedState = JSON.parse(sessionStorage.getItem(this.props.id));\n        if(savedState) {\n            this.setState(savedState);\n        }\n    }\n\n    componentDidUpdate() {\n        $('#'+this.state.freqKnobId).trigger('blur');\n        $('#'+this.state.peakKnobId).trigger('blur');\n    }\n\n    componentWillUnmount() {\n        this.saveState();\n    }\n\n    saveState() {\n        let state = JSON.stringify(this.state);\n        sessionStorage.setItem(this.props.id, state);\n    }\n\n    render() {\n        return (\n            <div className=\"Filter\">\n                <div className=\"ttl\"><h3 className=\"panel_title\">{this.state.id}</h3></div>\n                <div className=\"freq\">\n                    <p>Freq</p>\n                    <input type=\"text\" value={this.state.frequency} step=\"1\" id={this.state.freqKnobId} className=\"knob\" data-width=\"70\" data-max=\"200\"\n                           data-min=\"0\" data-height=\"70\" data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-angleOffset=\"180\"/>\n                </div>\n                <div className=\"peak\">\n                    <p>Peak</p>\n                    <input type=\"text\" value={this.state.peak} step=\"1\" id={this.state.peakKnobId} className=\"knob\" data-width=\"50\" data-max=\"25\"\n                           data-height=\"50\"  data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-angleOffset=\"180\"/>\n                </div>\n            </div>\n        );\n    }\n\n    handleFreqChanged(v, shouldSave) {\n        this.setState({\n            frequency: v,\n        });\n        this.props.onFreqChanged(v, shouldSave);\n    }\n\n    handlePeakChanged(v, shouldSave) {\n        this.setState({\n            peak: v,\n        });\n        this.props.onPeakChanged(v, shouldSave);\n    }\n}","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport 'jquery-knob';\nimport './style/ADSR.css';\n\nexport default class ADSR extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            id : props.id,\n            attack: 10,\n            decay: 25,\n            sustain: 20,\n            release: 10,\n        };\n\n        this.handleAttackChanged = this.handleAttackChanged.bind(this);\n        this.handleDecayChanged = this.handleDecayChanged.bind(this);\n        this.handleReleaseChanged = this.handleReleaseChanged.bind(this);\n        this.handleSustainChanged = this.handleSustainChanged.bind(this);\n        this.saveState = this.saveState.bind(this);\n    }\n\n    componentDidMount() {\n        $(\"#attack\").knob({\n            'change' : (v) => {\n                this.handleAttackChanged(v, false)\n            },\n            'release' : (v) => {\n                this.handleAttackChanged(v, true)\n            }\n        });\n        $(\"#decay\").knob({\n            'change' : (v) => {\n                this.handleDecayChanged(v, false)\n            },\n            'release' : (v) => {\n                this.handleDecayChanged(v, true)\n            }\n        });\n        $(\"#sustain\").knob({\n            'change' : (v) => {\n                this.handleSustainChanged(v, false)\n            },\n            'release' : (v) => {\n                this.handleSustainChanged(v, true)\n            }\n        });\n        $(\"#release\").knob({\n            'change' : (v) => {\n                this.handleReleaseChanged(v, false)\n            },\n            'release' : (v) => {\n                this.handleReleaseChanged(v, true)\n            }\n        });\n\n        let savedState = JSON.parse(sessionStorage.getItem('ADSR'));\n        if(savedState) {\n            this.setState(savedState);\n        }\n    }\n\n    componentDidUpdate() {\n        $('#attack').trigger('blur');\n        $('#decay').trigger('blur');\n        $('#sustain').trigger('blur');\n        $('#release').trigger('blur');\n    }\n\n    componentWillUnmount() {\n        this.saveState();\n    }\n\n    saveState() {\n        let state = JSON.stringify(this.state);\n        sessionStorage.setItem('ADSR', state);\n    }\n\n    render() {\n        return (\n            <div className=\"ADSR\">\n                    <div className=\"attack\">\n                        <h3 className=\"panel_title\">A</h3>\n                        <input type=\"text\" value={this.state.attack} id=\"attack\" className=\"knob\" data-width=\"70\" data-max=\"100\"\n                               data-height=\"70\"   data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-angleOffset=\"180\"/>\n                    </div>\n                    <div className=\"decay\">\n                        <h3 className=\"panel_title\">D</h3>\n                        <input type=\"text\" value={this.state.decay} id=\"decay\" className=\"knob\" data-width=\"70\" data-max=\"100\"\n                               data-height=\"70\"   data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-angleOffset=\"180\"/>\n                    </div>\n                    <div className=\"sustain\">\n                        <h3 className=\"panel_title\">S</h3>\n                        <input type=\"text\" value={this.state.sustain} id=\"sustain\" className=\"knob\" data-width=\"70\" data-max=\"100\"\n                               data-height=\"70\"   data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-angleOffset=\"180\"/>\n                    </div>\n                    <div className=\"release\">\n                        <h3 className=\"panel_title\">R</h3>\n                        <input type=\"text\" value={this.state.release} id=\"release\" className=\"knob\" data-width=\"70\" data-max=\"100\"\n                               data-height=\"70\"   data-fgColor=\"#c20097\" data-bgColor=\"#044f4d\" data-displayInput=\"false\" data-angleOffset=\"180\"/>\n                    </div>\n            </div>\n        );\n    }\n\n    handleAttackChanged(v, shouldSave) {\n        this.setState({\n            attack: v\n        });\n        this.props.onAttackChanged(v/100, shouldSave);\n    }\n\n    handleDecayChanged(v, shouldSave) {\n        this.setState({\n            decay: v\n        });\n        this.props.onDecayChanged(v/100, shouldSave);\n    }\n\n    handleSustainChanged(v, shouldSave) {\n        this.setState({\n            sustain: v\n        });\n        this.props.onSustainChanged(v/100, shouldSave);\n    }\n\n    handleReleaseChanged(v, shouldSave) {\n        this.setState({\n            release: v\n        });\n        this.props.onReleaseChanged(v/100, shouldSave);\n    }\n}","import React, {Component} from 'react';\nimport './style/ControlPanel.css';\nimport Oscillator from \"./Oscillator\";\nimport LowpassFilter from \"./LowpassFilter\";\nimport HighpassFilter from \"./HighpassFilter.jsx\";\nimport ADSR from \"./ADSR\";\n\nexport default class ControlPanel extends Component {\n\n    constructor(props) {\n        super(props);\n\n    }\n\n    render(){\n        return (\n            <div className=\"ControlPanel\">\n                <div className=\"osc1\">\n                    <Oscillator id=\"OSC-1\"\n                                defaultWav=\"∿\" defaultMix={10} defaultOctave={2}\n                                onWaveformChanged={(waveform) => {this.props.onWaveformChanged1(waveform)}}\n                                onMixChanged={(mix, shouldSave) => {this.props.onMixChanged1(mix, shouldSave)}}\n                                onOctaveChanged={(octave) => {this.props.onOctaveChanged1(octave)}}\n                    />\n                </div>\n                <div className=\"osc2\">\n                    <Oscillator id=\"OSC-2\"\n                                defaultWav=\"⊿\" defaultMix={10} defaultOctave={4}\n                                onWaveformChanged={(waveform) => {this.props.onWaveformChanged2(waveform)}}\n                                onMixChanged={(mix, shouldSave) => {this.props.onMixChanged2(mix, shouldSave)}}\n                                onOctaveChanged={(octave) => {this.props.onOctaveChanged2(octave)}}\n                    />\n                </div>\n                <div className=\"lpf\">\n                    <LowpassFilter id=\"LPF\" onFreqChanged={(freq) => this.props.onFreqChangedL(freq)} onPeakChanged={(peak) => this.props.onPeakChangedL(peak)}/>\n                </div>\n                <div className=\"hpf\">\n                    <HighpassFilter id=\"HPF\" onFreqChanged={(freq) => this.props.onFreqChangedH(freq)} onPeakChanged={(peak) => this.props.onPeakChangedH(peak)}/>\n                </div>\n                <div className=\"adsr\">\n                    <ADSR id=\"ADSR\" onAttackChanged={(v, shouldSave) => {this.props.onAttackChanged(v, shouldSave)}}\n                          onDecayChanged={(v, shouldSave) => {this.props.onDecayChanged(v, shouldSave)}}\n                          onSustainChanged={(v, shouldSave) => {this.props.onSustainChanged(v, shouldSave)}}\n                          onReleaseChanged={(v, shouldSave) => {this.props.onReleaseChanged(v, shouldSave)}} />\n                </div>\n            </div>\n        );\n    }\n}","import React, { Component } from 'react';\nimport Transport from \"./Transport\";\nimport Calculations from \"../utility/Calculations\";\nimport EuclidSequencer from \"./EuclidSequencer\";\nimport logo from '../images/logo.svg';\nimport Tab from \"./Tab\";\nimport ControlPanel from \"./ControlPanel\";\nimport ADSREnvelope from 'adsr-envelope';\n\nexport default class Synth extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.defaultState = {\n            scheduleAhead: 0,\n            isRunning: false,\n            step: 0,\n            bpm: 180,\n            sequence: [ [],[],[],[] ],\n            osc1: {\n                mix: 0.10,\n                waveform: 'sine',\n                octave: 2,\n            },\n            osc2: {\n                mix: 0.10,\n                waveform: 'triangle',\n                octave: 4,\n            },\n            lpf: {\n                type: 'lowpass',\n                freq: 8000,\n                peak: 1,\n                detune: 0,\n            },\n            hpf: {\n                type: 'highpass',\n                freq: 0,\n                peak: 1,\n                detune: 0,\n            },\n            adsr: {\n                attackTime: 0.1,\n                decayTime: 0.25,\n                sustainLevel: 0.2,\n                releaseTime: .1,\n                gateTime: .6,\n                peakLevel: 0.15,\n                releaseCurve: \"exp\",\n            },\n            tab: 'sequencer',\n        };\n\n        this.state = Object.assign({}, this.defaultState);\n\n        this.handleTick = this.handleTick.bind(this);\n        this.playStep = this.playStep.bind(this);\n        this.saveState = this.saveState.bind(this);\n        this.getVoicesFor = this.getVoicesFor.bind(this);\n        this.handleTabSelected = this.handleTabSelected.bind(this);\n        this.handleTransportStateChanged = this.handleTransportStateChanged.bind(this);\n        this.initializeAudio = this.initializeAudio.bind(this);\n        this.handleFreqChangedH = this.handleFreqChangedH.bind(this);\n        this.handlePeakChangedH = this.handlePeakChangedH.bind(this);\n        this.makeNote = this.makeNote.bind(this);\n        this.handleAttackChanged = this.handleAttackChanged.bind(this);\n        this.handleDecayChanged = this.handleDecayChanged.bind(this);\n        this.handleSustainChanged = this.handleSustainChanged.bind(this);\n        this.handleReleaseChanged = this.handleReleaseChanged.bind(this);\n    }\n\n    componentDidMount() {\n        this.initializeAudio();\n\n        let savedState = JSON.parse(sessionStorage.getItem('Synth'));\n        if(savedState && savedState !== this.defaultState) {\n            this.setState(savedState, () => {\n                this.handleTabSelected(document.querySelector(`.${this.state.tab}`), true);\n            });\n        } else {\n            document.querySelector('.sequencer').classList.add('tab_selected');\n        }\n\n    }\n\n    initializeAudio() {\n        const options = {\n            latencyHint: 'playback',\n            sampleRate: 22050,\n        };\n\n        if ('webkitAudioContext' in window) {\n            this.audioContext = new window.webkitAudioContext(options);\n        } else {\n            this.audioContext = new window.AudioContext(options);\n        }\n        this.oscGain1 = this.audioContext.createGain();\n        this.oscGain2 = this.audioContext.createGain();\n\n        this.hpf1 = this.audioContext.createBiquadFilter();\n        this.hpf1.type = this.state.hpf.type;\n        this.hpf1.detune.setValueAtTime(this.state.hpf.detune, this.audioContext.currentTime);\n        this.hpf2 = this.audioContext.createBiquadFilter();\n        this.hpf2.type = this.state.hpf.type;\n        this.hpf2.detune.setValueAtTime(this.state.hpf.detune, this.audioContext.currentTime);\n\n        this.lpf1 = this.audioContext.createBiquadFilter();\n        this.lpf1.type = this.state.lpf.type;\n        this.lpf1.detune.setValueAtTime(this.state.lpf.detune, this.audioContext.currentTime);\n        this.lpf2 = this.audioContext.createBiquadFilter();\n        this.lpf2.type = this.state.lpf.type;\n        this.lpf2.detune.setValueAtTime(this.state.lpf.detune, this.audioContext.currentTime);\n\n        this.adsr = new ADSREnvelope(this.state.adsr);\n\n        this.hpf1.frequency.setValueAtTime(this.state.hpf.freq, this.audioContext.currentTime);\n        this.hpf1.Q.value = this.state.hpf.peak;\n        this.hpf2.frequency.setValueAtTime(this.state.hpf.freq, this.audioContext.currentTime);\n        this.hpf2.Q.value = this.state.hpf.peak;\n\n        this.lpf1.frequency.setValueAtTime(this.state.lpf.freq, this.audioContext.currentTime);\n        this.lpf1.Q.value = this.state.lpf.peak;\n        this.lpf2.frequency.setValueAtTime(this.state.lpf.freq, this.audioContext.currentTime);\n        this.lpf2.Q.value = this.state.lpf.peak;\n\n        this.oscGain1.gain.value = this.state.osc1.mix;\n        this.oscGain2.gain.value = this.state.osc2.mix;\n\n        this.merger = this.audioContext.createChannelMerger(2);\n\n        this.oscGain1.connect(this.merger, 0,0);\n        this.oscGain2.connect(this.merger, 0,0);\n        this.oscGain1.connect(this.merger, 0,1);\n        this.oscGain2.connect(this.merger, 0,1);\n\n        this.merger.connect(this.audioContext.destination);\n    }\n\n    componentWillUnmount() {\n        this.saveState(this.state);\n    }\n\n    saveState(state) {\n        if(state !== this.defaultState) {\n            let stateJson = JSON.stringify(state);\n            sessionStorage.setItem('Synth', stateJson);\n        }\n    }\n\n    getVoicesFor(channel, step) {\n        let notes = this.state.sequence[channel - 1][step];\n        if(notes) {\n\n            let voice1 = this.audioContext.createOscillator();\n            voice1.type = this.state.osc1.waveform;\n\n            voice1.connect(this.hpf1);\n            this.hpf1.connect(this.lpf1);\n            this.lpf1.connect(this.oscGain1);\n\n            let voice2 = this.audioContext.createOscillator();\n\n            voice2.type = this.state.osc2.waveform;\n            voice2.connect(this.hpf2);\n            this.hpf2.connect(this.lpf2);\n            this.lpf2.connect(this.oscGain2);\n\n            let noteFreq = Calculations.textNoteToFrequency(notes);\n            voice1.frequency.setValueAtTime(Calculations.shiftToOctave(noteFreq, this.state.osc1.octave), this.audioContext.currentTime);\n            voice2.frequency.setValueAtTime(Calculations.shiftToOctave(noteFreq, this.state.osc2.octave), this.audioContext.currentTime);\n\n            return [voice1, voice2];\n        }\n\n        return null;\n    }\n\n    makeNote(voices, when) {\n        if(voices) {\n\n            let gateTime = Transport.bpmToS(this.state.bpm);\n\n            let envelope11 = this.adsr.clone();\n            let envelope12 = this.adsr.clone();\n\n            envelope11.peakLevel = this.state.osc1.mix;\n            envelope11.gateTime = gateTime;\n\n            envelope12.peakLevel = this.state.osc2.mix;\n            envelope12.gateTime = gateTime;\n\n            envelope11.applyTo(this.oscGain1.gain, when);\n            envelope12.applyTo(this.oscGain2.gain, when);\n\n            voices[0].start(when);\n            voices[1].start(when);\n\n            this.oscGain1.gain.cancelScheduledValues(when);\n            this.oscGain2.gain.cancelScheduledValues(when);\n\n            envelope11.applyTo(this.oscGain1.gain, when);\n            envelope12.applyTo(this.oscGain2.gain, when);\n\n            voices[0].stop(when + envelope11.duration + gateTime);\n            voices[1].stop(when + envelope12.duration + gateTime);\n\n        }\n    }\n\n    playStep(step) {\n        try {\n\n            let time = this.audioContext.currentTime;\n            let nextTime = time + Transport.bpmToS(this.state.bpm);\n\n            let channel1 = this.getVoicesFor(1, step);\n            let channel2 = this.getVoicesFor(2, step);\n            let channel3 = this.getVoicesFor(3, step);\n            let channel4 = this.getVoicesFor(4, step);\n\n            this.makeNote(channel1, time);\n            this.makeNote(channel2, time);\n            this.makeNote(channel3, time);\n            this.makeNote(channel4, time);\n\n\n\n        }catch (e) {\n            console.log(e);\n        }\n    }\n\n    handleNewSequence(notes) {\n        let newState = Object.assign({}, this.state);\n        newState.sequence = notes;\n        this.setState(newState);\n    }\n\n    handleTick(step) {\n        let newState = Object.assign({}, this.state);\n        newState.step = step;\n        this.setState(newState, () => {\n\n        });\n\n        this.playStep(step);\n    }\n\n    handleWaveform1Changed(waveform) {\n        let newState = Object.assign({}, this.state);\n        newState.osc1.waveform = waveform;\n        this.setState(newState);\n    }\n\n    handleMix1Changed(mix, shouldSave) {\n        this.oscGain1.gain.value = mix;\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.osc1.mix = mix;\n            this.setState(newState);\n        }\n    }\n\n    handleOctave1Changed(octave) {\n        let newState = Object.assign({}, this.state);\n        newState.osc1.octave = octave;\n        this.setState(newState);\n    }\n\n    handleWaveform2Changed(waveform) {\n        let newState = Object.assign({}, this.state);\n        newState.osc2.waveform = waveform;\n        this.setState(newState);\n    }\n\n    handleMix2Changed(mix, shouldSave) {\n        this.oscGain2.gain.value = mix;\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.osc2.mix = mix;\n            this.setState(newState);\n        }\n    }\n\n    handleOctave2Changed(octave) {\n        let newState = Object.assign({}, this.state);\n        newState.osc2.octave = octave;\n        this.setState(newState);\n    }\n\n    handleFreqChangedH(freq, shouldSave) {\n        this.hpf1.frequency.setValueAtTime(freq, this.audioContext.currentTime);\n        this.hpf2.frequency.setValueAtTime(freq, this.audioContext.currentTime);\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.hpf.freq = freq;\n            this.setState(newState);\n        }\n    }\n\n    handlePeakChangedH(peak, shouldSave) {\n        this.hpf1.Q.setValueAtTime(peak, this.audioContext.currentTime);\n        this.hpf2.Q.setValueAtTime(peak, this.audioContext.currentTime);\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.hpf.peak = peak;\n            this.setState(newState);\n        }\n    }\n\n    handleFreqChangedL(freq, shouldSave) {\n        this.lpf1.frequency.setValueAtTime(freq, this.audioContext.currentTime);\n        this.lpf2.frequency.setValueAtTime(freq, this.audioContext.currentTime);\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.lpf.freq = freq;\n            this.setState(newState);\n        }\n    }\n\n    handlePeakChangedL(peak, shouldSave) {\n        this.lpf1.Q.setValueAtTime(peak, this.audioContext.currentTime);\n        this.lpf2.Q.setValueAtTime(peak, this.audioContext.currentTime);\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.lpf.peak = peak;\n            this.setState(newState);\n        }\n    }\n\n    handlePaused() {\n        //todo: something when paused\n    }\n\n    handleTabSelected(element, skipUpdate) {\n        element.classList.add('tab_selected');\n\n        if(!skipUpdate) {\n            let newState = Object.assign({}, this.state);\n            newState.tab = element.classList[1];\n            this.setState(newState);\n\n            this.saveState(newState);\n        }\n    }\n\n    handleTransportStateChanged(isRunning) {\n        if(!isRunning) {\n            this.setState({\n                step: 0,\n            });\n        }\n\n        this.setState({\n            isRunning: isRunning,\n        });\n    }\n\n    handleAttackChanged(value, shouldSave) {\n        this.adsr.attackTime = value;\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.adsr.attackTime = value;\n            this.setState(newState);\n        }\n    }\n\n    handleDecayChanged(value, shouldSave) {\n        this.adsr.decayTime = value;\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.adsr.decayTime = value;\n            this.setState(newState);\n        }\n    }\n\n    handleSustainChanged(value, shouldSave) {\n        this.adsr.sustainTime = value;\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.adsr.sustainTime = value;\n            this.setState(newState);\n        }\n    }\n\n    handleReleaseChanged(value, shouldSave) {\n        this.adsr.releaseTime = value;\n\n        if(shouldSave) {\n            let newState = Object.assign({}, this.state);\n            newState.adsr.releaseTime = value;\n            this.setState(newState);\n        }\n    }\n\n    getControlsTab() {\n        return (\n            <div className=\"content\">\n                <ControlPanel onWaveformChanged1={(waveform) => {this.handleWaveform1Changed(waveform)}}\n                              onMixChanged1={(mix, shouldSave) => {this.handleMix1Changed(mix, shouldSave)}}\n                              onOctaveChanged1={(octave) => {this.handleOctave1Changed(octave)}}\n                              onWaveformChanged2={(waveform) => {this.handleWaveform2Changed(waveform)}}\n                              onMixChanged2={(mix, shouldSave) => {this.handleMix2Changed(mix, shouldSave)}}\n                              onOctaveChanged2={(octave) => {this.handleOctave2Changed(octave)}}\n                              onFreqChangedH={(freq, shouldSave) => this.handleFreqChangedH(freq, shouldSave)}\n                              onPeakChangedH={(peak, shouldSave) => this.handlePeakChangedH(peak, shouldSave)}\n                              onFreqChangedL={(freq, shouldSave) => this.handleFreqChangedL(freq, shouldSave)}\n                              onPeakChangedL={(peak, shouldSave) => this.handlePeakChangedL(peak, shouldSave)}\n                              onAttackChanged={(v, shouldSave) => {this.handleAttackChanged(v, shouldSave)}}\n                              onDecayChanged={(v, shouldSave) => {this.handleDecayChanged(v, shouldSave)}}\n                              onSustainChanged={(v, shouldSave) => {this.handleSustainChanged(v, shouldSave)}}\n                              onReleaseChanged={(v, shouldSave) => {this.handleReleaseChanged(v, shouldSave)}}\n                />\n            </div>\n        )\n    }\n\n    getSequencerTab() {\n        return (\n            <div className=\"content\">\n            <EuclidSequencer initialSequence={this.state.sequence} step={this.state.step} steps=\"8\" isRunning={this.state.isRunning} onNewSequence={(notes)=>{this.handleNewSequence(notes)}}/>\n            </div>\n        );\n    }\n\n    render() {\n\n        let content;\n        switch(this.state.tab) {\n            case 'sequencer':\n                content = this.getSequencerTab();\n                break;\n            case 'controls':\n                content = this.getControlsTab();\n                break;\n            default:\n                content = this.getSequencerTab();\n                break;\n        }\n\n        return (\n            <div className=\"wrapper\">\n                <Transport onPaused={()=>{this.handlePaused()}} steps={8} onTick={(step) => {this.handleTick(step)}} onRunningChanged={(isRunning)=>{this.handleTransportStateChanged(isRunning)}}/>\n                <div className=\"branding\">\n                    <img src={logo}/>\n                </div>\n                <Tab tabClass=\"sequencer\" title=\"Sequencer\" onTabSelected={(element)=>{this.handleTabSelected(element)}}/>\n                <Tab tabClass=\"controls\" title=\"Controls\" onTabSelected={(element)=>{this.handleTabSelected(element)}}/>\n                {content}\n            </div>\n        );\n    }\n\n}","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Synth from './components/Synth';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<Synth />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}